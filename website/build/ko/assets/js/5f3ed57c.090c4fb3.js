"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3297],{33946:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var s=t(85893),i=t(11151);const a={id:"ai-assistant",title:"AI Assistant"},l=void 0,r={id:"build/web3-apps/ai/ai-assistant",title:"AI Assistant",description:"Welcome! In this guide, you'll discover an AI chatbot that can interact with the NEAR ecosystem",source:"@site/../docs/2.build/4.web3-apps/ai/ai-assistant.md",sourceDirName:"2.build/4.web3-apps/ai",slug:"/build/web3-apps/ai/ai-assistant",permalink:"/ko/build/web3-apps/ai/ai-assistant",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/2.build/4.web3-apps/ai/ai-assistant.md",tags:[],version:"current",lastUpdatedBy:"Guille",lastUpdatedAt:1726765152e3,frontMatter:{id:"ai-assistant",title:"AI Assistant"},sidebar:"build",previous:{title:"Authenticate NEAR Users",permalink:"/ko/build/web3-apps/backend/"},next:{title:"What are Primitives?",permalink:"/ko/build/primitives/what-is"}},o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup and architecture",id:"setup-and-architecture",level:2},{value:"AI",id:"ai",level:3},{value:"Frontend",id:"frontend",level:3},{value:"Usage",id:"usage",level:2},{value:"Moving Forward",id:"moving-forward",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Welcome! In this guide, you'll discover an AI chatbot that can interact with the NEAR ecosystem"}),"\n",(0,s.jsx)(n.p,{children:"This AI agent can:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Explore and explain what happened in a transaction when given a transaction hash"}),"\n",(0,s.jsx)(n.li,{children:"Request tokens from the testnet faucet"}),"\n",(0,s.jsx)(n.li,{children:"Mint and send a special NFT though a wallet it controls to a user"}),"\n",(0,s.jsx)(n.li,{children:"Answer general questions about the NEAR architecture (powered by realtime search results)"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Community Project",type:"tip",children:(0,s.jsxs)(n.p,{children:["Created by our community member ",(0,s.jsx)(n.a,{href:"https://x.com/RezaRahemtola",children:"Reza"}),", this project was one of our AI track winners at the ",(0,s.jsx)(n.a,{href:"https://ethglobal.com/events/brussels",children:"ETHGlobal Brussels 2024 hackathon"})]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before starting, make sure you have the following tools installed:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.python.org/downloads/",children:"Python >= 3.10"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://nodejs.org/en",children:"NodeJS >= 20"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Then we need to run our AI model locally. Here we'll be using ",(0,s.jsx)(n.a,{href:"https://github.com/ggerganov/llama.cpp",children:"llama.cpp"})," with ",(0,s.jsx)(n.a,{href:"https://huggingface.co/NousResearch/Hermes-2-Pro-Llama-3-8B",children:"Nous Hermes 2 Pro"})," as the model."]}),"\n",(0,s.jsxs)(n.p,{children:["Below are the steps to setup it at the time of writing, but please refer to the ",(0,s.jsx)(n.a,{href:"https://github.com/ggerganov/llama.cpp",children:"llama.cpp"})," repository for up to date instructions:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Install llama.cpp with ",(0,s.jsx)(n.a,{href:"https://github.com/ggerganov/llama.cpp?tab=readme-ov-file#basic-usage",children:"the method of your choice"}),", we'll use brew here:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"brew install llama.cpp\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Clone the ",(0,s.jsx)(n.a,{href:"https://huggingface.co/NousResearch/Hermes-2-Pro-Llama-3-8B/tree/main",children:"model's repository"})," by following the instructions on Hugging Face:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# Make sure you have git-lfs installed (https://git-lfs.com)\ngit lfs install\ngit clone git@hf.co:NousResearch/Hermes-2-Pro-Llama-3-8B\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Back to llama.cpp, if you didn't already to it clone the repository and generate the ",(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/hub/en/gguf",children:"GGUF"})," file needed to run the model with llama.cpp:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"git clone git@github.com:ggerganov/llama.cpp.git\ncd llama.cpp\n\n# Setup the environment and run the conversion script\npython -m venv venv\npython -m pip install -r requirements.txt\npython convert_hf_to_gguf.py <path_to>/Hermes-2-Pro-Llama-3-8B/\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You should end up with a ",(0,s.jsx)(n.code,{children:"hermes-2-pro-llama-3-8B-DPO-F16.gguf"})," file inside the ",(0,s.jsx)(n.code,{children:"Hermes-2-Pro-Llama-3-8B"})," repository. Finally, let's run the llama.cpp server with it:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"llama-server -m <path_to>/hermes-2-pro-llama-3-8B-DPO-F16.gguf\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Open your browser at ",(0,s.jsx)(n.code,{children:"http://localhost:8080"}),", if you see an interface similar to this one you are ready to go \ud83d\ude80\n",(0,s.jsx)(n.img,{alt:"llama.cpp UI",src:t(8232).Z+"",width:"1296",height:"1956"})]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Make sure the ",(0,s.jsx)(n.code,{children:"model.api_url"})," in ",(0,s.jsx)(n.code,{children:"ai/config/general"})," is set to ",(0,s.jsx)(n.code,{children:"http://localhost:8080/completion"})," to use your model running locally \ud83d\ude09"]})}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.p,{children:"You can use a different model with llama.cpp if you wish!\nJust make sure:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["It supports ",(0,s.jsx)(n.a,{href:"https://docs.mistral.ai/capabilities/function_calling",children:"function calling"})]}),"\n",(0,s.jsxs)(n.li,{children:["Update the ",(0,s.jsx)(n.code,{children:"model.max_prompt_tokens"})," config according to the context length of the new model"]}),"\n",(0,s.jsx)(n.li,{children:"Update the ChatML config variables to match those of the new model"}),"\n"]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"setup-and-architecture",children:"Setup and architecture"}),"\n",(0,s.jsx)(n.p,{children:"Start by cloning the repository of the project:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"git clone git@github.com:RezaRahemtola/near-ai-assistant.git\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You'll find 2 folders in it, ",(0,s.jsx)(n.code,{children:"ai"})," and ",(0,s.jsx)(n.code,{children:"front"}),"."]}),"\n",(0,s.jsx)("hr",{class:"subsection"}),"\n",(0,s.jsx)(n.h3,{id:"ai",children:"AI"}),"\n",(0,s.jsx)(n.p,{children:"Let's start by configuring a virtual environment to install the dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd ai/\npython -m venv venv\npython -m pip install poetry\npoetry install\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Then you can create a ",(0,s.jsx)(n.code,{children:".env"})," file and fill it with values inspired from the ",(0,s.jsx)(n.code,{children:".env.example"})," file:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OXYLABS_USERNAME"})," and ",(0,s.jsx)(n.code,{children:"OXYLABS_PASSWORD"})," are API credential used to access an SERP API to search information on Google"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NEAR_ACCOUNT_ID"})," and ",(0,s.jsx)(n.code,{children:"NEAR_ACCOUNT_PRIVATE_KEY"})," are used by the AI to control a wallet and send transactions from it"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NEAR_RPC_URL"})," can also be set in case you want to use a different RPC"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Once you've done all this, you can activate your virtual environment and launch the code \ud83d\ude80"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"source venv/bin/activate\npython src/main.py\n"})}),"\n",(0,s.jsx)("hr",{class:"subsection"}),"\n",(0,s.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,s.jsx)(n.p,{children:"Now that your AI agent is ready to go, let's quickly launch a basic frontend to interact with it:"}),"\n",(0,s.jsx)(n.p,{children:"Install the dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd front/\nyarn\n"})}),"\n",(0,s.jsx)(n.p,{children:"And launch it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yarn dev\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:["You can now head to ",(0,s.jsx)(n.code,{children:"http://localhost:5173"}),", where you'll find an interface like this one to interact with the AI:\n",(0,s.jsx)(n.img,{alt:"img",src:t(38716).Z+"",width:"1486",height:"1188"})]}),"\n",(0,s.jsx)(n.p,{children:"Here are a few example questions you can ask it:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"What is NEAR?"}),"\n",(0,s.jsx)(n.li,{children:"What are the different transaction actions on NEAR?"}),"\n",(0,s.jsx)(n.li,{children:"Can I please have an ETHGlobal Brussels NFT sent to me at random.testnet? Thanks"}),"\n",(0,s.jsx)(n.li,{children:"I want to start using NEAR, can you send me some tokens on my testnet address random.testnet?"}),"\n",(0,s.jsxs)(n.li,{children:["I don't understand what this transaction is doing, can you help me? The transaction hash is ",(0,s.jsx)(n.code,{children:"hash"})," and it was send by someone.testnet."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"moving-forward",children:"Moving Forward"}),"\n",(0,s.jsx)(n.p,{children:"That's it for the quickstart tutorial. You have now seen an open-source AI agent interacting with NEAR and controlling a wallet to make transactions."}),"\n",(0,s.jsxs)(n.p,{children:["To better understand how it works, check the ",(0,s.jsxs)(n.a,{href:"https://github.com/RezaRahemtola/near-ai-assistant/blob/main/ai/src/agent/agent.py",children:[(0,s.jsx)(n.code,{children:"agent.py"})," file"]})," and the ",(0,s.jsx)(n.a,{href:"https://huggingface.co/NousResearch/Hermes-2-Pro-Llama-3-8B#prompt-format-for-function-calling",children:"Function Calling explanation on HuggingFace"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"A lot of things could be built by leveraging this PoC, some ideas could be:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A chatbot integrated to the explorer to summarize transactions directly in the page"}),"\n",(0,s.jsxs)(n.li,{children:["Interactive tutorials in the documentation through a chatbot","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'"How to create an NFT?"'}),"\n",(0,s.jsx)(n.li,{children:"Multiple chats with explanations and code to complete given by the AI"}),"\n",(0,s.jsx)(n.li,{children:"In the end, the AI publish the smart contract, mint an NFT and send it to you on testnet"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"An AI trader reacting to on-chain or off-chain events to buy/sell some tokens with its wallet"}),"\n",(0,s.jsx)(n.li,{children:"The only limit is your imagination!"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Happy coding! \ud83d\ude80"})]})}function d(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},38716:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/ai-assistant-63e78c974aabf73c0c76124fc584e662.png"},8232:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/llama-cpp-c5dbf15b4696db67be1a86f571cd639e.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>l});var s=t(67294);const i={},a=s.createContext(i);function l(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);