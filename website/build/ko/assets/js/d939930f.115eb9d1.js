"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7099],{72445:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var r=t(85893),s=t(11151),a=t(71183);const i={id:"core",title:"Transfers"},o=void 0,l={id:"tutorials/nfts/core",title:"Transfers",description:"In this tutorial you'll learn how to implement NFT transfers as defined in the core standards into your smart contract.",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/3.tutorials/nfts/4-core.md",sourceDirName:"3.tutorials/nfts",slug:"/tutorials/nfts/core",permalink:"/ko/tutorials/nfts/core",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/3.tutorials/nfts/4-core.md",tags:[],version:"current",lastUpdatedBy:"Github Actions",lastUpdatedAt:1719825734e3,sidebarPosition:4,frontMatter:{id:"core",title:"Transfers"},sidebar:"tutorials",previous:{title:"\uc5f4\uac70(Enumeration)",permalink:"/ko/tutorials/nfts/enumeration"},next:{title:"\uc774\ubca4\ud2b8",permalink:"/ko/tutorials/nfts/events"}},c={},d=[{value:"\uc18c\uac1c",id:"introduction",level:2},{value:"\ucee8\ud2b8\ub799\ud2b8 \uc218\uc815",id:"\ucee8\ud2b8\ub799\ud2b8-\uc218\uc815",level:2},{value:"\uc804\uc1a1 \ud568\uc218",id:"transfer-function",level:3},{value:"\ub0b4\ubd80 \ud5ec\ud37c \ud568\uc218",id:"\ub0b4\ubd80-\ud5ec\ud37c-\ud568\uc218",level:3},{value:"assert_one_yocto",id:"assert_one_yocto",level:4},{value:"internal_transfer",id:"internal_transfer",level:4},{value:"\uc804\uc1a1 \ud638\ucd9c \ud568\uc218",id:"transfer-call-function",level:3},{value:"\ucee8\ud2b8\ub799\ud2b8 \uc7ac\ubc30\ud3ec",id:"redeploying-contract",level:2},{value:"\uc0c8 \ubcc0\uacbd \uc0ac\ud56d \ud14c\uc2a4\ud2b8",id:"testing-changes",level:2},{value:"\uc804\uc1a1 \ud568\uc218 \ud14c\uc2a4\ud2b8",id:"\uc804\uc1a1-\ud568\uc218-\ud14c\uc2a4\ud2b8",level:3},{value:"\uc804\uc1a1 \ud638\ucd9c \ud568\uc218 \ud14c\uc2a4\ud2b8",id:"\uc804\uc1a1-\ud638\ucd9c-\ud568\uc218-\ud14c\uc2a4\ud2b8",level:3},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["In this tutorial you'll learn how to implement NFT transfers as defined in the ",(0,r.jsx)(n.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Core",children:"core standards"})," into your smart contract."]}),"\n",(0,r.jsx)(n.p,{children:"We will define two methods for transferring NFTs:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nft_transfer"}),": that transfers ownership of an NFT from one account to another"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nft_transfer_call"}),': that transfers an NFT to a "receiver" and calls a method on the receiver\'s account']}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Why two transfer methods?",type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"nft_transfer"})," is a simple transfer between two user, while ",(0,r.jsx)(n.code,{children:"nft_transfer_call"})," allows you to ",(0,r.jsx)(n.strong,{children:"attach an NFT to a function call"})]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"\uc18c\uac1c"}),"\n",(0,r.jsxs)(n.p,{children:["\uc9c0\uae08\uae4c\uc9c0 \uc0ac\uc6a9\uc790\uac00 \ud1a0\ud070\uc744 \uc0dd\uc131\ud558\uace0 ",(0,r.jsx)(n.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Enumeration",children:"\uc5f4\uac70 \ud45c\uc900"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc815\ubcf4\ub97c \ubcfc \uc218 \uc788\ub294 \uac04\ub2e8\ud55c NFT \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\ub97c \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4. \uc624\ub298\uc740 \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\ub97c \ud655\uc7a5\ud558\uc5ec \uc0ac\uc6a9\uc790\uac00 \ud1a0\ud070\uc744 \ubc1c\ud589\ud560 \ubfd0\ub9cc \uc544\ub2c8\ub77c \uc804\uc1a1\ud560 \uc218\ub3c4 \uc788\uac8c \ud560 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["As we did in the ",(0,r.jsx)(n.a,{href:"/ko/tutorials/nfts/minting",children:"minting tutorial"}),", let's break down the problem into multiple subtasks to make our lives easier. \ud1a0\ud070\uc774 \ubc1c\ud589\ub418\uba74 \uc815\ubcf4\ub294 3\uacf3\uc5d0 \uc800\uc7a5\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"tokens_per_owner"}),": \uac01 \uacc4\uc815\uc5d0 \ub300\ud55c \ud1a0\ud070 \uc9d1\ud569\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"tokens_by_id"}),": \ud1a0\ud070 ID\ub97c ",(0,r.jsx)(n.code,{children:"Token"})," \uac1d\uccb4\uc5d0 \ub9e4\ud551\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"token_metadata_by_id"}),": \ud1a0\ud070 ID\ub97c \ud574\ub2f9 \uba54\ud0c0\ub370\uc774\ud130\uc5d0 \ub9e4\ud551\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\uc774\uc81c \ub2e4\uc74c\uacfc \uac19\uc740 \uc2dc\ub098\ub9ac\uc624\ub97c \uace0\ub824\ud574 \ubd05\uc2dc\ub2e4. Benji\uac00 \ud1a0\ud070 A\ub97c \uc18c\uc720\ud558\uace0 Mike\uc5d0\uac8c \uc0dd\uc77c \uc120\ubb3c\ub85c \uc804\uc1a1\ud558\ub824\ub294 \uacbd\uc6b0 \uc5b4\ub5bb\uac8c \ud574\uc57c \ud560\uae4c\uc694? \uc6b0\uc120 \ud1a0\ud070 A\ub97c Benji\uc758 \ud1a0\ud070 \uc9d1\ud569\uc5d0\uc11c \uc81c\uac70\ud558\uace0, Mike\uc758 \ud1a0\ud070 \uc9d1\ud569\uc5d0 \ucd94\uac00\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["\uadf8\uac83\uc774 \uad6c\ud604\ud558\ub294 \uc720\uc77c\ud55c \ub85c\uc9c1\uc774\ub77c\uba74, \uba87 \uac00\uc9c0 \ubb38\uc81c\uc5d0 \ubd80\ub52a\ud788\uac8c \ub420 \uac83\uc785\ub2c8\ub2e4. \ud1a0\ud070\uc774 Mike\uc5d0\uac8c \uc804\uc1a1\ub41c \ud6c4 \ud574\ub2f9 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \ucffc\ub9ac\ud558\uae30 \uc704\ud574 ",(0,r.jsx)(n.code,{children:"view"})," \ud638\ucd9c\uc744 \ud558\uba74 \uc5ec\uc804\ud788 Benji\uac00 \uc18c\uc720\uc790\ub77c\uace0 \ud45c\uc2dc\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774\ub294 \ucee8\ud2b8\ub799\ud2b8\uac00 \uc5ec\uc804\ud788 Benji\uc758 \uacc4\uc815 ID\ub85c \uc124\uc815\ub41c ",(0,r.jsx)(n.code,{children:"owner_id"})," \ud544\ub4dc\ub97c \ub2f4\uc740 \uc774\uc804 ",(0,r.jsx)(n.code,{children:"Token"})," \uac1d\uccb4\uc5d0 \ud1a0\ud070 ID\ub97c \ub9e4\ud551\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \ud1a0\ud070 ID\uac00 Mike\ub97c \uc18c\uc720\uc790\ub85c \ud558\ub294 \uc0c8 ",(0,r.jsx)(n.code,{children:"Token"})," \uac1d\uccb4\uc5d0 \ub9e4\ud551\ub418\ub3c4\ub85d ",(0,r.jsx)(n.code,{children:"tokens_by_id"})," \uc790\ub8cc \uad6c\uc870\ub97c \ubcc0\uacbd\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\uadf8\ub807\ub2e4\uba74, \uc18c\uc720\uc790\uac00 \ud1a0\ud070\uc744 \uc218\uc2e0\uc790\uc5d0\uac8c \uc804\uc1a1\ud558\ub294 \ucd5c\uc885 \ud504\ub85c\uc138\uc2a4\ub294 \ub2e4\uc74c\uacfc \uac19\uc544\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc18c\uc720\uc790 \uc9d1\ud569\uc5d0\uc11c \ud1a0\ud070\uc744 \uc81c\uac70\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.li,{children:"\uc218\uc2e0\uc790 \uc9d1\ud569\uc5d0 \ud1a0\ud070\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.li,{children:["\uc62c\ubc14\ub978 \uc18c\uc720\uc790\uac00 \ud3ec\ud568\ub41c \uc0c8 ",(0,r.jsx)(n.code,{children:"Token"})," \uac1d\uccb4\uc5d0 \ud1a0\ud070 ID\ub97c \ub9e4\ud551\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:[(0,r.jsx)(n.code,{children:"token_metadata_by_id"})," \ud544\ub4dc\ub97c \ud3b8\uc9d1\ud558\uc9c0 \uc54a\ub294 \uc774\uc720\uac00 \uad81\uae08\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \ub204\uac00 \ud1a0\ud070\uc744 \uc18c\uc720\ud558\ub4e0 \uad00\uacc4\uc5c6\uc774 \ud1a0\ud070 ID\ub294 \ud56d\uc0c1 \ub3d9\uc77c\ud55c \uba54\ud0c0\ub370\uc774\ud130\uc5d0 \ub9e4\ud551\ub418\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \uba54\ud0c0\ub370\uc774\ud130\ub294 \uc808\ub300\ub85c \ubcc0\uacbd\ub418\uc5b4\uc11c\ub294 \uc548 \ub418\ubbc0\ub85c \uadf8\ub300\ub85c \ub458 \uc218 \uc788\uc2b5\ub2c8\ub2e4. :::"]}),(0,r.jsx)(n.p,{children:"\uc774 \uc2dc\uc810\uc5d0\uc11c, \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0 \ud544\uc694\ud55c \uc218\uc815\uc744 \ud560 \uc900\ube44\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"\ucee8\ud2b8\ub799\ud2b8-\uc218\uc815",children:"\ucee8\ud2b8\ub799\ud2b8 \uc218\uc815"}),(0,r.jsxs)(n.p,{children:["Let's start our journey in the ",(0,r.jsx)(n.code,{children:"nft-contract-skeleton/src/nft_core.rs"})," file."]}),(0,r.jsx)(n.h3,{id:"transfer-function",children:"\uc804\uc1a1 \ud568\uc218"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"nft_transfer"})," \ub85c\uc9c1\uc744 \uad6c\ud604\ud558\uc5ec \uc2dc\uc791\ud569\ub2c8\ub2e4. \uc774 \ud568\uc218\ub294 ",(0,r.jsx)(n.code,{children:'"Happy Birthday Mike!"'}),"\uc640 \uac19\uc740 ",(0,r.jsx)(n.code,{children:"memo"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc9c0\uc815\ub41c ",(0,r.jsx)(n.code,{children:"token_id"}),"\ub97c ",(0,r.jsx)(n.code,{children:"receiver_id"}),"\ub85c \uc804\uc1a1\ud569\ub2c8\ub2e4."]}),(0,r.jsx)(a.Ey,{language:"rust",start:"60",end:"80",url:"https://github.com/near-examples/nft-tutorial/blob/main/nft-contract-basic/src/nft_core.rs"}),(0,r.jsxs)(n.p,{children:["There are a couple things to notice here. Firstly, we've introduced a new function called ",(0,r.jsx)(n.code,{children:"assert_one_yocto()"}),", which ensures the user has attached exactly one yoctoNEAR to the call. This is a ",(0,r.jsx)(n.a,{href:"/ko/build/smart-contracts/security/one-yocto",children:"security measure"})," to ensure that the user is signing the transaction with a ",(0,r.jsx)(n.a,{href:"/ko/concepts/protocol/access-keys",children:"full access key"}),"."]}),(0,r.jsx)(n.p,{children:"Since the transfer function is potentially transferring very valuable assets, you'll want to make sure that whoever is calling the function has a full access key."}),(0,r.jsxs)(n.p,{children:["Secondly, we've introduced an ",(0,r.jsx)(n.code,{children:"internal_transfer"})," method. This will perform all the logic necessary to transfer an NFT."]}),(0,r.jsx)("hr",{class:"subsection"}),(0,r.jsx)(n.h3,{id:"\ub0b4\ubd80-\ud5ec\ud37c-\ud568\uc218",children:"\ub0b4\ubd80 \ud5ec\ud37c \ud568\uc218"}),(0,r.jsxs)(n.p,{children:["Let's quickly move over to the ",(0,r.jsx)(n.code,{children:"nft-contract/src/internal.rs"})," file so that you can implement the ",(0,r.jsx)(n.code,{children:"assert_one_yocto()"})," and ",(0,r.jsx)(n.code,{children:"internal_transfer"})," methods."]}),(0,r.jsxs)(n.p,{children:["Let's start with the easier one, ",(0,r.jsx)(n.code,{children:"assert_one_yocto()"}),"."]}),(0,r.jsx)(n.h4,{id:"assert_one_yocto",children:"assert_one_yocto"}),(0,r.jsx)(a.Ey,{language:"rust",start:"14",end:"21",url:"https://github.com/near-examples/nft-tutorial/blob/main/nft-contract-basic/src/internal.rs"}),(0,r.jsx)(n.h4,{id:"internal_transfer",children:"internal_transfer"}),(0,r.jsxs)(n.p,{children:["It's now time to explore the ",(0,r.jsx)(n.code,{children:"internal_transfer"})," function which is the core of this tutorial. This function takes the following parameters:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"sender_id"}),": \ud1a0\ud070 \uc804\uc1a1\uc744 \uc2dc\ub3c4\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"receiver_id"}),": \ud1a0\ud070\uc744 \ubc1b\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"token_id"}),": \uc804\uc1a1 \uc911\uc778 \ud1a0\ud070 ID\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"memo"}),": \uc120\ud0dd\uc801\uc73c\ub85c \ud3ec\ud568\ud560 \uc218 \uc788\ub294 \uba54\ubaa8\uc785\ub2c8\ub2e4."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["The first thing we have to do is to make sure that the sender is authorized to transfer the token. In this case, we just make sure that the sender is the owner of the token. We do that by getting the ",(0,r.jsx)(n.code,{children:"Token"})," object using the ",(0,r.jsx)(n.code,{children:"token_id"})," and making sure that the sender is equal to the token's ",(0,r.jsx)(n.code,{children:"owner_id"}),"."]}),(0,r.jsxs)(n.p,{children:["Second, we remove the token ID from the sender's list and add the token ID to the receiver's list of tokens. Finally, we create a new ",(0,r.jsx)(n.code,{children:"Token"})," object with the receiver as the owner and remap the token ID to that newly created object."]}),(0,r.jsxs)(n.p,{children:["We want to create this function within the contract implementation (below the ",(0,r.jsx)(n.code,{children:"internal_add_token_to_owner"})," you created in the minting tutorial)."]}),(0,r.jsx)(a.Ey,{language:"rust",start:"96",end:"132",url:"https://github.com/near-examples/nft-tutorial/blob/main/nft-contract-basic/src/internal.rs"}),(0,r.jsxs)(n.p,{children:["Now let's look at the function called ",(0,r.jsx)(n.code,{children:"internal_remove_token_from_owner"}),". That function implements the functionality for removing a token ID from an owner's set."]}),(0,r.jsxs)(n.p,{children:["In the remove function, we get the set of tokens for a given account ID and then remove the passed in token ID. If the account's set is empty after the removal, we simply remove the account from the ",(0,r.jsx)(n.code,{children:"tokens_per_owner"})," data structure."]}),(0,r.jsx)(a.Ey,{language:"rust",start:"71",end:"94",url:"https://github.com/near-examples/nft-tutorial/blob/main/nft-contract-basic/src/internal.rs"}),(0,r.jsxs)(n.p,{children:["\uc774\uc81c ",(0,r.jsx)(n.code,{children:"internal.rs"})," \ud30c\uc77c\uc740 \ub2e4\uc74c\uacfc \uac19\uc740 \uad6c\uc870\ub97c \uac00\uc9c0\uace0 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"internal.rs\n\u251c\u2500\u2500 hash_account_id\n\u251c\u2500\u2500 assert_one_yocto\n\u251c\u2500\u2500 refund_deposit\n\u2514\u2500\u2500 impl Contract\n    \u251c\u2500\u2500 internal_add_token_to_owner\n    \u251c\u2500\u2500 internal_remove_token_from_owner\n    \u2514\u2500\u2500 internal_transfer\n"})}),(0,r.jsx)("hr",{class:"subsection"}),(0,r.jsx)(n.h3,{id:"transfer-call-function",children:"\uc804\uc1a1 \ud638\ucd9c \ud568\uc218"}),(0,r.jsxs)(n.p,{children:["The idea behind the ",(0,r.jsx)(n.code,{children:"nft_transfer_call"})," function is to transfer an NFT to a receiver while calling a method on the receiver's contract all in the same transaction."]}),(0,r.jsxs)(n.p,{children:["This way, we can effectively ",(0,r.jsx)(n.strong,{children:"attach an NFT to a function call"}),"."]}),(0,r.jsx)(a.Ey,{language:"rust",start:"82",end:"126",url:"https://github.com/near-examples/nft-tutorial/blob/main/nft-contract-basic/src/nft_core.rs"}),(0,r.jsxs)(n.p,{children:["\uc774 \ud568\uc218\ub294 \uba3c\uc800 \ud638\ucd9c\uc790\uac00 \ubcf4\uc548 \ubaa9\uc801\uc73c\ub85c \uc815\ud655\ud788 1 yocto\ub97c \ucca8\ubd80\ud588\ub2e4\uace0 \uac00\uc815\ud569\ub2c8\ub2e4. \uadf8\ub7f0 \ub2e4\uc74c ",(0,r.jsx)(n.code,{children:"internal_transfer"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec NFT\ub97c \uc804\uc1a1\ud558\uace0 \uad50\ucc28 \ucee8\ud2b8\ub799\ud2b8 \ud638\ucd9c(Cross Contract Call)\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4. It will call the method ",(0,r.jsx)(n.code,{children:"nft_on_transfer"})," on the ",(0,r.jsx)(n.code,{children:"receiver_id"}),"'s contract, and create a promise to call back ",(0,r.jsx)(n.code,{children:"nft_resolve_transfer"})," with the result. This is a very common workflow when dealing with ",(0,r.jsx)(n.a,{href:"/ko/build/smart-contracts/anatomy/crosscontract",children:"cross contract calls"}),"."]}),(0,r.jsxs)(n.p,{children:["As dictated by the core standard, the function we are calling (",(0,r.jsx)(n.code,{children:"nft_on_transfer"}),") needs to return a boolean stating whether or not you should return the NFT to it's original owner."]}),(0,r.jsx)(a.Ey,{language:"rust",start:"146",end:"201",url:"https://github.com/near-examples/nft-tutorial/blob/main/nft-contract-basic/src/nft_core.rs"}),(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"nft_on_transfer"})," returned true or the called failed, you should send the token back to it's original owner. \ubc18\ub300\ub85c false\uac00 \ubc18\ud658\ub418\uba74 \ucd94\uac00 \ub85c\uc9c1\uc774 \ud544\uc694\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),(0,r.jsxs)(n.p,{children:["As for the return value of our function ",(0,r.jsx)(n.code,{children:"nft_resolve_transfer"}),", the standard dictates that the function should return a boolean indicating whether or not the receiver successfully received the token or not."]}),(0,r.jsxs)(n.p,{children:["\uc989, ",(0,r.jsx)(n.code,{children:"nft_on_transfer"}),"\uac00 true\ub97c \ubc18\ud658\ud558\uba74, false\ub97c \ubc18\ud658\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uc774\ub294 \ud1a0\ud070\uc774 \uc6d0\ub798 \uc18c\uc720\uc790\uc5d0\uac8c \ubc18\ud658\ub418\ub294 \uacbd\uc6b0 \ub54c\ubb38\uc785\ub2c8\ub2e4. ",(0,r.jsx)(n.code,{children:"receiver_id"}),"\ub294 \uacb0\uad6d \uc131\uacf5\uc801\uc73c\ub85c \ud1a0\ud070\uc744 \ubc1b\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. \ubc18\ub300\ub85c ",(0,r.jsx)(n.code,{children:"nft_on_transfer"}),"\uac00 false\ub97c \ubc18\ud658\ud55c \uacbd\uc6b0 true\ub97c \ubc18\ud658\ud574\uc57c \ud569\ub2c8\ub2e4. \ud1a0\ud070\uc744 \ubc18\ud658\ud560 \ud544\uc694\uac00 \uc5c6\uc73c\ubbc0\ub85c ",(0,r.jsx)(n.code,{children:"receiver_id"}),"\uac00 \ud1a0\ud070\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uc18c\uc720\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."]}),(0,r.jsx)(n.p,{children:"\uc774 \uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uba74, \uc774\uc81c \uc0ac\uc6a9\uc790\uac00 NFT\ub97c \uc804\uc1a1\ud560 \uc218 \uc788\ub3c4\ub85d \ud544\uc694\ud55c \ub85c\uc9c1\uc744 \uc131\uacf5\uc801\uc73c\ub85c \ucd94\uac00\ud55c \uac83\uc785\ub2c8\ub2e4. \uc774\uc81c \ubc30\ud3ec\ud558\uace0 \uba87 \uac00\uc9c0 \ud14c\uc2a4\ud2b8\ub97c \uc218\ud589\ud560 \uc2dc\uac04\uc785\ub2c8\ub2e4."}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"redeploying-contract",children:"\ucee8\ud2b8\ub799\ud2b8 \uc7ac\ubc30\ud3ec"}),(0,r.jsx)(n.p,{children:"Using cargo-near, deploy the contract as you did in the previous tutorials:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cargo near deploy $NFT_CONTRACT_ID without-init-call network-config testnet sign-with-keychain send\n"})}),(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\uc774\uc804 \ud29c\ud1a0\ub9ac\uc5bc\uc744 \uc644\ub8cc\ud558\uc9c0 \uc54a\uc558\uace0 \uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc744 \ub530\ub77c\ud558\ub294 \uacbd\uc6b0 ",(0,r.jsx)(n.code,{children:"near login"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uacc4\uc815\uc744 \ub9cc\ub4e4\uace0 CLI\ub85c \ub85c\uadf8\uc778\ud558\uba74 \ub429\ub2c8\ub2e4. \uadf8\ub7f0 \ub2e4\uc74c ",(0,r.jsx)(n.code,{children:"export NFT_CONTRACT_ID=YOUR_ACCOUNT_ID_HERE"})," \ud658\uacbd \ubcc0\uc218\ub97c \ub0b4\ubcf4\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4. :::"]}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"testing-changes",children:"\uc0c8 \ubcc0\uacbd \uc0ac\ud56d \ud14c\uc2a4\ud2b8"}),(0,r.jsxs)(n.p,{children:["\ucee8\ud2b8\ub799\ud2b8\uc5d0 \ud328\uce58 \uc218\uc815 \uc0ac\ud56d\uc744 \ubc30\ud3ec\ud588\uc73c\ubbc0\ub85c \uc774\uc81c \ud14c\uc2a4\ud2b8\ub97c \uc9c4\ud589\ud560 \ucc28\ub840\uc785\ub2c8\ub2e4. \uc790\uc2e0\uc5d0\uac8c \ud1a0\ud070\uc744 \ubc1c\ud589\ud55c \uc774\uc804 NFT \ucee8\ud2b8\ub799\ud2b8\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,r.jsx)(n.code,{children:"nft_transfer"})," \uba54\uc11c\ub4dc\ub97c \ud14c\uc2a4\ud2b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. NFT\ub97c \uc804\uc1a1\ud558\uba74 \uc9c0\uac11\uc5d0 \ud45c\uc2dc\ub418\ub294 \uacc4\uc815\uc758 \uc218\uc9d1\ud488\uc5d0\uc11c \uc81c\uac70\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \uc5f4\uac70 \ud568\uc218\ub97c \ucffc\ub9ac\ud558\uba74 \ub354 \uc774\uc0c1 \uc18c\uc720\uc790\uac00 \uc544\ub2d8\uc774 \ud45c\uc2dc\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4."]}),(0,r.jsxs)(n.p,{children:["NFT\ub97c ",(0,r.jsx)(n.code,{children:"benjiman.testnet"})," \uacc4\uc815\uc73c\ub85c \uc804\uc1a1\ud558\uace0, NFT\uac00 \ub354 \uc774\uc0c1 \ub2f9\uc2e0\uc758 \uc18c\uc720\uac00 \uc544\ub2cc\uc9c0 \ud655\uc778\ud558\uc5ec \uc774\ub97c \ud14c\uc2a4\ud2b8\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4."]}),(0,r.jsx)("hr",{class:"subsection"}),(0,r.jsx)(n.h3,{id:"\uc804\uc1a1-\ud568\uc218-\ud14c\uc2a4\ud2b8",children:"\uc804\uc1a1 \ud568\uc218 \ud14c\uc2a4\ud2b8"}),(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\uc989, ",(0,r.jsx)(n.code,{children:"benjiman.testnet"})," \uacc4\uc815\uc5d0\uc11c NFT\ub97c \ub2e4\uc2dc \uc804\uc1a1\ud558\uc9c0 \uc54a\ub294 \ud55c NFT\ub97c \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. NFT\ub97c \uc783\uc5b4\ubc84\ub9ac\uc9c0 \uc54a\uc73c\ub824\uba74 \uc0c8 \uacc4\uc815\uc744 \ub9cc\ub4e4\uace0 \ub300\uc2e0 \ud574\ub2f9 \uacc4\uc815\uc73c\ub85c \ud1a0\ud070\uc744 \uc804\uc1a1\ud558\uc138\uc694. :::"]}),(0,r.jsxs)(n.p,{children:["\ub2e4\uc74c \uba85\ub839\uc744 \uc2e4\ud589\ud558\uba74 ",(0,r.jsx)(n.code,{children:'"Go Team :)"'}),"\uc774\ub77c\ub294 \uba54\ubaa8\uc640 \ud568\uaed8 ",(0,r.jsx)(n.code,{children:"benjiman.testnet"})," \uacc4\uc815\uc73c\ub85c ",(0,r.jsx)(n.code,{children:'"token-1"'})," \ud1a0\ud070\uc774 \uc804\uc1a1\ub429\ub2c8\ub2e4. \ub610\ud55c ",(0,r.jsx)(n.code,{children:"--depositYocto"})," \ud50c\ub798\uadf8\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc815\ud655\ud788 1 yoctoNEAR\ub97c \ucca8\ubd80\ud558\uace0 \uc788\ub2e4\ub294 \uc810\uc5d0 \uc720\uc758\ud558\uc138\uc694."]}),(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\uc774\uc804 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c \ub2e4\ub978 \ud1a0\ud070 ID\ub97c \uc0ac\uc6a9\ud55c \uacbd\uc6b0, ",(0,r.jsx)(n.code,{children:"token-1"}),"\uc744 \uadf8\ub54c \uc0ac\uc6a9\ud55c \ud1a0\ud070 ID\ub85c \ubc14\uafc9\ub2c8\ub2e4. :::"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'near contract call-function as-transaction $NFT_CONTRACT_ID nft_transfer json-args \'{"receiver_id": "benjiman.testnet", "token_id": "token-1", "memo": "Go Team :)"}\' prepaid-gas \'100.0 Tgas\' attached-deposit \'1 yoctoNEAR\' sign-as $NFT_CONTRACT_ID network-config testnet sign-with-legacy-keychain send\n'})}),(0,r.jsxs)(n.p,{children:["\uc774\uc81c \uacc4\uc815\uc774 \uc18c\uc720\ud55c \ubaa8\ub4e0 \ud1a0\ud070\uc744 \ucffc\ub9ac\ud558\uba74 \ud574\ub2f9 \ud1a0\ud070\uc774 \uc5c6\uc5b4\uc57c \ud569\ub2c8\ub2e4. \ub9c8\ucc2c\uac00\uc9c0\ub85c ",(0,r.jsx)(n.code,{children:"benjiman.testnet"}),"\uac00 \uc18c\uc720\ud55c \ud1a0\ud070 \ubaa9\ub85d\uc744 \ucffc\ub9ac\ud558\uba74, \ud574\ub2f9 \uacc4\uc815\uc774 \uc774\uc81c NFT\ub97c \uc18c\uc720\ud574\uc57c \ud569\ub2c8\ub2e4."]}),(0,r.jsx)("hr",{class:"subsection"}),(0,r.jsx)(n.h3,{id:"\uc804\uc1a1-\ud638\ucd9c-\ud568\uc218-\ud14c\uc2a4\ud2b8",children:"\uc804\uc1a1 \ud638\ucd9c \ud568\uc218 \ud14c\uc2a4\ud2b8"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"nft_transfer"})," \ud568\uc218\ub97c \ud14c\uc2a4\ud2b8\ud588\uc73c\ubbc0\ub85c, \uc774\uc81c ",(0,r.jsx)(n.code,{children:"nft_transfer_call"})," \ud568\uc218\ub97c \ud14c\uc2a4\ud2b8\ud560 \ucc28\ub840\uc785\ub2c8\ub2e4. \ud574\ub2f9 \ud568\uc218\ub97c \uad6c\ud604\ud558\uc9c0 ",(0,r.jsx)(n.strong,{children:"\uc54a\uc740"})," \uc218\uc2e0\uc790\uc5d0\uac8c NFT\ub97c \uc804\uc1a1\ud558\ub824\uace0 \ud558\uba74, \ucee8\ud2b8\ub799\ud2b8\uac00 \ud328\ub2c9 \uc0c1\ud0dc\uac00 \ub418\uc5b4 NFT\uac00 \uc804\uc1a1\ub418\uc9c0 ",(0,r.jsx)(n.strong,{children:"\uc54a\uc2b5\ub2c8\ub2e4"}),". \uc544\ub798\uc5d0\uc11c \uc774 \uae30\ub2a5\uc744 \ud14c\uc2a4\ud2b8\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4."]}),(0,r.jsx)(n.p,{children:"\uba3c\uc800 \uc804\uc1a1 \ud638\ucd9c \uae30\ub2a5\uc744 \ud14c\uc2a4\ud2b8\ud558\ub294 \ub370 \uc0ac\uc6a9\ud560 \uc0c8 NFT\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'near contract call-function as-transaction $NFT_CONTRACT_ID nft_mint json-args \'{"token_id": "token-2", "metadata": {"title": "NFT Tutorial Token", "description": "Testing the transfer call function", "media": "https://bafybeiftczwrtyr3k7a2k4vutd3amkwsmaqyhrdzlhvpt33dyjivufqusq.ipfs.dweb.link/goteam-gif.gif"}, "receiver_id": "\'$NFT_CONTRACT_ID\'"}\' prepaid-gas \'100.0 Tgas\' attached-deposit \'0.1 NEAR\' sign-as $NFT_CONTRACT_ID network-config testnet sign-with-legacy-keychain send\n'})}),(0,r.jsxs)(n.p,{children:["\uc774\uc81c \ud1a0\ud070\uc744 \ubc1c\ud589\ud588\uc73c\ubbc0\ub85c \uc774\ub984\uc5d0\uc11c \uc54c \uc218 \uc788\ub4ef\uc774 \ucee8\ud2b8\ub799\ud2b8\uac00 \uc5c6\ub294 ",(0,r.jsx)(n.code,{children:"no-contract.testnet"})," \uacc4\uc815\uc73c\ub85c NFT\ub97c \uc804\uc1a1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc218\uc2e0\uc790\uac00 ",(0,r.jsx)(n.code,{children:"nft_on_transfer"})," \ud568\uc218\ub97c \uad6c\ud604\ud558\uc9c0 \uc54a\uc73c\uba70, \ud2b8\ub79c\uc7ad\uc158\uc774 \uc644\ub8cc\ub41c \ud6c4 NFT\uac00 \ub2f9\uc2e0\uc758 \uac83\uc73c\ub85c \uc720\uc9c0\ub418\uc5b4\uc57c \ud568\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'near contract call-function as-transaction $NFT_CONTRACT_ID nft_transfer_call json-args \'{"receiver_id": "no-contract.testnet", "token_id": "token-2", "msg": "foo"}\' prepaid-gas \'100.0 Tgas\' attached-deposit \'1 yoctoNEAR\' sign-as $NFT_CONTRACT_ID network-config testnet sign-with-legacy-keychain send\n'})}),(0,r.jsxs)(n.p,{children:["\ud1a0\ud070\uc744 \ucffc\ub9ac\ud558\ub294 \uacbd\uc6b0 \ud1a0\ud070\uc774 \uc788\uc5b4\uc57c \ud558\uba70 \uc774 \uc2dc\uc810\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"token-2"}),"\ub97c \uac00\uc9c0\uace0 \uc788\ub2e4\uba74, \uc644\ub8cc\ub41c \uac83\uc785\ub2c8\ub2e4!"]}),(0,r.jsx)(n.hr,{}),(0,r.jsx)(n.h2,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),(0,r.jsxs)(n.p,{children:["\uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \ubc1c\ud589 \uae30\ub2a5\uc744 \ub118\uc5b4 NFT \ucee8\ud2b8\ub799\ud2b8\ub97c \ud655\uc7a5\ud558\ub294 \ubc29\ubc95\uc744 \ubc30\uc6e0\uace0, \uc0ac\uc6a9\uc790\uac00 NFT\ub97c \uc804\uc1a1\ud558\ub294 \ubc29\ubc95\uc744 \ucd94\uac00\ud588\uc2b5\ub2c8\ub2e4. \ubb38\uc81c\ub97c \ub354 \uc791\uace0 \uc774\ud574\ud558\uae30 \uc26c\uc6b4 \ud558\uc704 \uc791\uc5c5\uc73c\ub85c ",(0,r.jsx)(n.a,{href:"#introduction",children:"\ubd84\ub958\ud558\uace0"}),", \ud574\ub2f9 \uc815\ubcf4\ub97c \uac00\uc838\uc640 ",(0,r.jsx)(n.a,{href:"#transfer-function",children:"NFT \uc804\uc1a1"})," \ubc0f ",(0,r.jsx)(n.a,{href:"#transfer-call-function",children:"NFT \uc804\uc1a1 \ud638\ucd9c"})," \ud568\uc218\ub97c \ubaa8\ub450 \uad6c\ud604\ud588\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc2a4\ub9c8\ud2b8 \ucee8\ud2b8\ub799\ud2b8\uc5d0 \ub2e4\ub978 ",(0,r.jsx)(n.a,{href:"#redeploying-contract",children:"\ud328\uce58 \uc218\uc815 \uc0ac\ud56d"}),"\uc744 \ubc30\ud3ec\ud558\uace0 \uc804\uc1a1 \uae30\ub2a5\uc744 ",(0,r.jsx)(n.a,{href:"#testing-changes",children:"\ud14c\uc2a4\ud2b8"}),"\ud588\uc2b5\ub2c8\ub2e4."]}),(0,r.jsxs)(n.p,{children:["In the ",(0,r.jsx)(n.a,{href:"/ko/tutorials/nfts/approvals",children:"next tutorial"}),", you'll learn about the approval management system and how you can approve others to transfer tokens on your behalf."]}),(0,r.jsxs)(n.admonition,{title:"\ubb38\uc11c \ubc84\uc804 \uad00\ub9ac",type:"note",children:[(0,r.jsx)(n.p,{children:"\uae00\uc744 \uc791\uc131\ud558\ub294 \uc2dc\uc810\uc5d0\uc11c, \ud574\ub2f9 \uc608\uc81c\ub294 \ub2e4\uc74c \ubc84\uc804\uc5d0\uc11c \uc791\ub3d9\ud569\ub2c8\ub2e4."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["rustc: ",(0,r.jsx)(n.code,{children:"1.77.1"})]}),"\n",(0,r.jsxs)(n.li,{children:["near-cli-rs: ",(0,r.jsx)(n.code,{children:"0.11.0"})]}),"\n",(0,r.jsxs)(n.li,{children:["cargo-near ",(0,r.jsx)(n.code,{children:"0.6.1"})]}),"\n",(0,r.jsxs)(n.li,{children:["NFT standard: ",(0,r.jsx)(n.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Core",children:"NEP171"}),", version ",(0,r.jsx)(n.code,{children:"1.0.0"})]}),"\n",(0,r.jsxs)(n.li,{children:["\uc5f4\uac70 \ud45c\uc900: ",(0,r.jsx)(n.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Enumeration",children:"NEP181"}),", ",(0,r.jsx)(n.code,{children:"1.0.0"})," \ubc84\uc804"]}),"\n"]})]})]})]})]})]})]})}function u(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},85162:(e,n,t)=>{t.d(n,{Z:()=>i});t(67294);var r=t(36905);const s={tabItem:"tabItem_Ymn6"};var a=t(85893);function i(e){var n=e.children,t=e.hidden,i=e.className;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.Z)(s.tabItem,i),hidden:t,children:n})}},74866:(e,n,t)=>{t.d(n,{Z:()=>y});var r=t(67294),s=t(36905),a=t(12466),i=t(16550),o=t(20469),l=t(91980),c=t(67392),d=t(20812);function h(e){var n,t;return null!=(n=null==(t=r.Children.toArray(e).filter((function(e){return"\n"!==e})).map((function(e){if(!e||(0,r.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}function u(e){var n=e.values,t=e.children;return(0,r.useMemo)((function(){var e=null!=n?n:function(e){return h(e).map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}}))}(t);return function(e){var n=(0,c.lx)(e,(function(e,n){return e.value===n.value}));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function f(e){var n=e.value;return e.tabValues.some((function(e){return e.value===n}))}function x(e){var n=e.queryString,t=void 0!==n&&n,s=e.groupId,a=(0,i.k6)(),o=function(e){var n=e.queryString,t=void 0!==n&&n,r=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=r?r:null}({queryString:t,groupId:s});return[(0,l._X)(o),(0,r.useCallback)((function(e){if(o){var n=new URLSearchParams(a.location.search);n.set(o,e),a.replace(Object.assign({},a.location,{search:n.toString()}))}}),[o,a])]}function j(e){var n,t,s,a,i=e.defaultValue,l=e.queryString,c=void 0!==l&&l,h=e.groupId,j=u(e),p=(0,r.useState)((function(){return function(e){var n,t=e.defaultValue,r=e.tabValues;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+r.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var s=null!=(n=r.find((function(e){return e.default})))?n:r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:i,tabValues:j})})),m=p[0],g=p[1],v=x({queryString:c,groupId:h}),b=v[0],_=v[1],y=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:h}.groupId),t=(0,d.Nk)(n),s=t[0],a=t[1],[s,(0,r.useCallback)((function(e){n&&a.set(e)}),[n,a])]),k=y[0],T=y[1],w=function(){var e=null!=b?b:k;return f({value:e,tabValues:j})?e:null}();return(0,o.Z)((function(){w&&g(w)}),[w]),{selectedValue:m,selectValue:(0,r.useCallback)((function(e){if(!f({value:e,tabValues:j}))throw new Error("Can't select invalid tab value="+e);g(e),_(e),T(e)}),[_,T,j]),tabValues:j}}var p=t(72389);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(85893);function v(e){var n=e.className,t=e.block,r=e.selectedValue,i=e.selectValue,o=e.tabValues,l=[],c=(0,a.o5)().blockElementScrollPositionUntilNextRender,d=function(e){var n=e.currentTarget,t=l.indexOf(n),s=o[t].value;s!==r&&(c(n),i(s))},h=function(e){var n,t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":var r,s=l.indexOf(e.currentTarget)+1;t=null!=(r=l[s])?r:l[0];break;case"ArrowLeft":var a,i=l.indexOf(e.currentTarget)-1;t=null!=(a=l[i])?a:l[l.length-1]}null==(n=t)||n.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":t},n),children:o.map((function(e){var n=e.value,t=e.label,a=e.attributes;return(0,g.jsx)("li",Object.assign({role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:function(e){return l.push(e)},onKeyDown:h,onClick:d},a,{className:(0,s.Z)("tabs__item",m.tabItem,null==a?void 0:a.className,{"tabs__item--active":r===n}),children:null!=t?t:n}),n)}))})}function b(e){var n=e.lazy,t=e.children,a=e.selectedValue,i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){var o=i.find((function(e){return e.props.value===a}));return o?(0,r.cloneElement)(o,{className:(0,s.Z)("margin-top--md",o.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})}))})}function _(e){var n=j(e);return(0,g.jsxs)("div",{className:(0,s.Z)("tabs-container",m.tabList),children:[(0,g.jsx)(v,Object.assign({},n,e)),(0,g.jsx)(b,Object.assign({},n,e))]})}function y(e){var n=(0,p.Z)();return(0,g.jsx)(_,Object.assign({},e,{children:h(e.children)}),String(n))}},71183:(e,n,t)=>{t.d(n,{O2:()=>x,Ey:()=>p,SQ:()=>j});var r=t(67294),s=t(74866),a=t(85162),i=t(74165),o=t(15861),l=t(1841),c=t.n(l),d=t(85893);function h(){return(h=(0,o.Z)((0,i.Z)().mark((function e(n,t,r){var s,a,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=localStorage.getItem(n+"-until"))&&a>Date.now())){e.next=5;break}s=localStorage.getItem(n),e.next=18;break;case 5:return e.prev=5,e.next=8,fetch(n);case 8:return e.next=10,e.sent.text();case 10:s=e.sent,localStorage.setItem(n,s),localStorage.setItem(n+"-until",Date.now()+6e4),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return","Error fetching code, please try reloading");case 18:return o=s.split("\n"),t=t?Number(t)-1:0,r=r?Number(r):o.length,o=o.slice(t,r),l=o.reduce((function(e,n){if(0===n.length)return e;var t=n.match(/^\s+/);return t?Math.min(e,t[0].length):0}),1/0),e.abrupt("return",o.map((function(e){return e.slice(l)})).join("\n"));case 24:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}const u=function(e){var n=e.url,t=e.start,s=e.end,a=e.language,i=e.fname,o=e.metastring,l=(0,r.useState)("Loading..."),u=l[0],f=l[1];return(0,r.useEffect)((function(){var e=function(e){var n=e.slice(e.indexOf("https")).split("#"),t=n[0],r=(n[1],new URL(t).pathname.split("/").slice(1)),s=r[0],a=r[1];return r[2],"https://raw.githubusercontent.com/"+s+"/"+a+"/"+r[3]+"/"+r.slice(4).join("/")}(n),r=function(e,n,t){return h.apply(this,arguments)}(e,t,s);r.then((function(e){return f(e)}))})),(0,d.jsxs)("div",{fname:i,children:[(0,d.jsx)(c(),{language:a,metastring:o+" showLineNumbers",children:u}),(0,d.jsx)("div",{style:{fontSize:"0.9em",fontWeight:600,color:"rgb(14, 117, 221)",textAlign:"center",paddingBottom:"13px",textDecoration:"underline"},children:(0,d.jsx)("a",{href:n,target:"_blank",rel:"noreferrer noopener",children:"See full example on GitHub"})})]})};var f={rust:"\ud83e\udd80 Rust",js:"\ud83c\udf10 Javascript",ts:"\ud83c\udf10 Typescript"};function x(e){var n=e.children;return Array.isArray(n)||(n=[n]),(0,d.jsx)(s.Z,{className:"language-tabs",groupId:"code-tabs",children:n.map((function(e,n){return(0,d.jsx)(a.Z,{value:e.props.value,label:f[e.props.value],children:e})}))})}function j(e){var n=e.children,t=e.language,r=e.showSingleFName;return Array.isArray(n)||(n=[n]),n=n.map((function(e){return function(e,n){var t=e.props,r=(t.children,t.url),s=t.start,a=t.end,i=t.fname;if(e.type===p)return p({url:r,start:s,end:a,language:n,fname:i});return e}(e,t)})),1!=n.length||r?(0,d.jsx)(s.Z,{className:"file-tabs",children:n.map((function(e,n){return(0,d.jsx)(a.Z,{value:n,label:e.props.fname,children:e})}))}):(0,d.jsx)(a.Z,{value:0,label:n[0].props.fname,children:n[0]})}function p(e){var n=e.url,t=e.start,r=e.end,s=e.language,a=e.fname,i=e.metastring;return u({url:n,start:t,end:r,language:s,fname:a,metastring:i})}}}]);