"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[684],{8290:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var a=n(85893),i=n(11151);const s={id:"getting-started",title:"Multichain Gas Relayer: Getting Started Guide",hide_table_of_contents:!0},r=void 0,o={id:"build/chain-abstraction/multichain-gas-relayer/getting-started",title:"Multichain Gas Relayer: Getting Started Guide",description:"The Multichain Gas Relayer provides gas abstraction for foreign chains outside of NEAR. This system, in conjunction with NEAR Chain Signatures, allows NEAR users to transact on other blockchains and pay for gas using NEAR, USDC, USDT, or other NEAR-based tokens from a single NEAR account.",source:"@site/../docs/2.build/1.chain-abstraction/multichain-gas-relayer/getting-started.md",sourceDirName:"2.build/1.chain-abstraction/multichain-gas-relayer",slug:"/build/chain-abstraction/multichain-gas-relayer/getting-started",permalink:"/vi/build/chain-abstraction/multichain-gas-relayer/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/2.build/1.chain-abstraction/multichain-gas-relayer/getting-started.md",tags:[],version:"current",lastUpdatedBy:"Guille",lastUpdatedAt:1723122565e3,frontMatter:{id:"getting-started",title:"Multichain Gas Relayer: Getting Started Guide",hide_table_of_contents:!0},sidebar:"build",previous:{title:"Implementing Chain Signatures",permalink:"/vi/build/chain-abstraction/chain-signatures/"},next:{title:"Overview",permalink:"/vi/build/chain-abstraction/multichain-gas-relayer/overview"}},c={},l=[{value:"Why did NEAR create the Multichain Gas Relayer?",id:"why-did-near-create-the-multichain-gas-relayer",level:2},{value:"How does it work?",id:"how-does-it-work",level:2},{value:"System Workflow",id:"system-workflow",level:3},{value:"Example Real-World Flow",id:"example-real-world-flow",level:2},{value:"What chains are supported?",id:"what-chains-are-supported",level:2},{value:"Where can I go to learn more?",id:"where-can-i-go-to-learn-more",level:2}];function h(e){const t={a:"a",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"The Multichain Gas Relayer provides gas abstraction for foreign chains outside of NEAR. This system, in conjunction with NEAR Chain Signatures, allows NEAR users to transact on other blockchains and pay for gas using NEAR, USDC, USDT, or other NEAR-based tokens from a single NEAR account."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:"https://pages.near.org/wp-content/uploads/2024/02/acct-abstraction-blog-1.png",alt:"img"})}),"\n",(0,a.jsx)(t.p,{children:"Chain Signatures lets users manage remote accounts and transact on any blockchain from a single NEAR account. The Multichain Gas Relayer further simplifies this process by eliminating the need for users to acquire native gas tokens to transact on other chains."}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"why-did-near-create-the-multichain-gas-relayer",children:"Why did NEAR create the Multichain Gas Relayer?"}),"\n",(0,a.jsx)(t.p,{children:"NEAR's mission is to build blockchain infrastructure for Chain Abstracted applications. Chain abstraction aims to make blockchain technology more user-friendly by simplifying interactions. A key step in achieving this is reducing the complexity of paying for transaction gas across different blockchains. Users should be able to pay for cross-chain transactions with a single asset or have the gas fees fully sponsored on their behalf."}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"how-does-it-work",children:"How does it work?"}),"\n",(0,a.jsx)(t.p,{children:"The Multichain Gas Relayer has 3 core components:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Gas Station Smart Contract"}),": A smart contract on NEAR that manages the creation, signing, of transactions to foreign chains. It also handles gas fee calculations and collects NEAR tokens for gas payments on foreign chains."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Multichain Relayer Server"}),": This server coordinates the relaying of transactions between NEAR and other blockchains. It listens for signed transaction payloads and submits them to the appropriate foreign chain RPCs."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Chain Signatures"}),": A network of distributed Multi-Party Computation (MPC) signers that cooperatively sign transactions. This ensures secure transaction signing and validation on the NEAR blockchain before relaying to foreign chains."]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"system-workflow",children:"System Workflow"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Transaction Creation"}),": Users initiate a transaction on NEAR, specifying the foreign chain transaction and attaching NEAR tokens to cover gas fees on the foreign chain. This transaction is sent to the Gas Station Contract."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Transaction Signing"}),": The Gas Station Contract invokes Chain Signatures MPC signing service to sign the transaction. This step may require multiple calls due to gas limitations on NEAR, especially for complex transactions."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Event Emission and Indexing"}),": Once the transactions are signed, the Gas Station Contract emits an event. The Gas Station Event Indexer picks up this event and triggers the Multichain Relayer Server to relay the signed transactions."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Relaying Transactions"}),": The Multichain Relayer Server first sends a funding transaction to ensure the user\u2019s account on the foreign chain has sufficient gas. Once confirmed, it sends the user\u2019s originally intended signed transaction to the foreign chain for execution."]}),"\n"]}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"example-real-world-flow",children:"Example Real-World Flow"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Alice has an alice.near account that maps to a remote Optimism (OP) address, 0xabc"}),"\n",(0,a.jsx)(t.li,{children:"Alice wants to interact with a Farcaster application on OP using her NEAR account, but she prefers to pay for gas with assets she has on hand, specifically USDT"}),"\n",(0,a.jsx)(t.li,{children:"Alice initiates an on-chain action on Farcaster from her NEAR account. She sends the transaction to a gas station smart contract, including the OP transaction payload in the arguments and attaching the necessary USDT amount for the cross-chain gas payment"}),"\n",(0,a.jsx)(t.li,{children:"The transaction bundle is sent to the NEAR gas station contract, which then forwards it to the NEAR MPC signing service. This bundle includes (1) the transaction to fund the user's 0xabc address with the ETH needed for gas, and (2) the user's original transaction to take action on the Farcaster application"}),"\n",(0,a.jsx)(t.li,{children:"The MPC service will sign both transactions and forward the signed transactions back to the gas station contract"}),"\n",(0,a.jsx)(t.li,{children:"The relayer operator will observe the events (signed transactions) emitted from the gas station contract and submit them to the Optimism network. This process starts by initiating a fund transfer from a treasury paymaster account on Optimism that holds ETH. The paymaster account will transfer ETH to the user's 0xabc address, equivalent to the USDT originally sent by the user"}),"\n",(0,a.jsx)(t.li,{children:"Then the relayer will submit the final transaction, and the originally intended Farcaster transaction will be executed from the user's 0xabc address, using ETH to cover the gas"}),"\n"]}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"what-chains-are-supported",children:"What chains are supported?"}),"\n",(0,a.jsx)(t.p,{children:"The NEAR Multichain Gas Relayer supports cross-chain gas abstraction on Base, Optimism, Arbitrum and Binance Smart Chain, and Ethereum. These chains were selected based on multiple factors including interest from key partners, low gas fees, and fast finality for transactions. Support for EDDSA chains like Solana will be coming soon in conjunction with EDDSA support for NEAR chain signatures."}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"where-can-i-go-to-learn-more",children:"Where can I go to learn more?"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Visit our ",(0,a.jsx)(t.a,{href:"https://docs.near.org/build/chain-abstraction/multichain-gas-relayer/overview",children:"docs"})," to learn more about how to integrate the Multichain Gas Relayer into your product"]}),"\n",(0,a.jsxs)(t.li,{children:["Join the NEAR Chain Abstraction ",(0,a.jsx)(t.a,{href:"https://t.me/chain_abstraction",children:"developer group"})," on Telegram to ask questions and discuss ideas with other developers."]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>r});var a=n(67294);const i={},s=a.createContext(i);function r(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);