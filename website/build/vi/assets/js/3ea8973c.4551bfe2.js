"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3488],{84365:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>h,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var c=e(85893),i=e(11151),a=e(71183);const r={id:"minting",title:"Minting",sidebar_label:"Minting"},o=void 0,s={id:"tutorials/nfts/js/minting",title:"Minting",description:"\u0110\xe2y l\xe0 h\u01b0\u1edbng d\u1eabn \u0111\u1ea7u ti\xean trong m\u1ed9t lo\u1ea1t serie ch\u1ec9 b\u1ea1n c\xe1ch t\u1ea1o m\u1ed9t NFT smart contract ho\xe0n ch\u1ec9nh t\u1eeb \u0111\u1ea7u, ph\xf9 h\u1ee3p v\u1edbi t\u1ea5t c\u1ea3 c\xe1c chu\u1ea9n NFT c\u1ee7a NEAR. H\xf4m nay b\u1ea1n s\u1ebd h\u1ecdc c\xe1ch t\u1ea1o logic c\u1ea7n thi\u1ebft \u0111\u1ec3 mint (\u0111\xfac) NFT v\xe0 \u0111\u1ec3 ch\xfang hi\u1ec3n th\u1ecb trong v\xed NEAR c\u1ee7a b\u1ea1n. B\u1ea1n s\u1ebd s\u1eeda \u0111\u1ed5i m\u1ed9t ph\u1ea7n c\u1ee7a skeleton smart contract b\u1eb1ng c\xe1ch \u0111i\u1ec1n v\xe0o c\xe1c code snippet c\u1ea7n thi\u1ebft c\u1ea7n thi\u1ebft \u0111\u1ec3 th\xeam c\xe1c ch\u1ee9c n\u0103ng mint.",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/3.tutorials/nfts/js/2-minting.md",sourceDirName:"3.tutorials/nfts/js",slug:"/tutorials/nfts/js/minting",permalink:"/vi/tutorials/nfts/js/minting",draft:!1,unlisted:!1,editUrl:"https://github.com/near/docs/edit/master/website/../docs/3.tutorials/nfts/js/2-minting.md",tags:[],version:"current",lastUpdatedBy:"gagdiez",lastUpdatedAt:1713353002e3,sidebarPosition:2,frontMatter:{id:"minting",title:"Minting",sidebar_label:"Minting"},sidebar:"tutorials",previous:{title:"Ki\u1ebfn tr\xfac c\u1ee7a Contract",permalink:"/vi/tutorials/nfts/js/skeleton"},next:{title:"Upgrade m\u1ed9t Contract",permalink:"/vi/tutorials/nfts/js/upgrade-contract"}},h={},l=[{value:"Gi\u1edbi thi\u1ec7u",id:"gi\u1edbi-thi\u1ec7u",level:2},{value:"C\xe1c s\u1eeda \u0111\u1ed5i \u0111\u1ed1i v\u1edbi skeleton contract",id:"what-does-minting-mean",level:2},{value:"L\u01b0u th\xf4ng tin tr\xean contract",id:"storing-information",level:3},{value:"Constructor Function",id:"constructor-function",level:4},{value:"Metadata v\xe0 th\xf4ng tin token",id:"metadata-and-token-info",level:3},{value:"Function cho vi\u1ec7c query contract metadata",id:"function-cho-vi\u1ec7c-query-contract-metadata",level:4},{value:"Logic c\u1ee7a vi\u1ec7c Mint",id:"minting-logic",level:3},{value:"Query th\xf4ng tin token",id:"query-th\xf4ng-tin-token",level:3},{value:"T\u01b0\u01a1ng t\xe1c v\u1edbi on-chain contract",id:"t\u01b0\u01a1ng-t\xe1c-v\u1edbi-on-chain-contract",level:2},{value:"Deploy m\u1ed9t contract",id:"deploy-the-contract",level:3},{value:"Init contract",id:"initialize-contract",level:3},{value:"Xem metadata c\u1ee7a contract",id:"xem-metadata-c\u1ee7a-contract",level:3},{value:"Mint NFT \u0111\u1ea7u ti\xean c\u1ee7a ch\xfang ta",id:"minting-our-first-nft",level:3},{value:"Xem th\xf4ng tin c\u1ee7a NFT",id:"xem-th\xf4ng-tin-c\u1ee7a-nft",level:3},{value:"Xem NFT c\u1ee7a b\u1ea1n trong wallet",id:"xem-nft-c\u1ee7a-b\u1ea1n-trong-wallet",level:2},{value:"T\u1ed5ng k\u1ebft",id:"t\u1ed5ng-k\u1ebft",level:2},{value:"C\xe1c b\u01b0\u1edbc ti\u1ebfp theo",id:"c\xe1c-b\u01b0\u1edbc-ti\u1ebfp-theo",level:2}];function d(n){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...n.components},{Details:e}=t;return e||function(n,t){throw new Error("Expected "+(t?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(t.p,{children:["\u0110\xe2y l\xe0 h\u01b0\u1edbng d\u1eabn \u0111\u1ea7u ti\xean trong m\u1ed9t lo\u1ea1t serie ch\u1ec9 b\u1ea1n c\xe1ch t\u1ea1o m\u1ed9t NFT smart contract ho\xe0n ch\u1ec9nh t\u1eeb \u0111\u1ea7u, ph\xf9 h\u1ee3p v\u1edbi t\u1ea5t c\u1ea3 ",(0,c.jsx)(t.a,{href:"https://nomicon.io/Standards/NonFungibleToken/",children:"c\xe1c chu\u1ea9n NFT"})," c\u1ee7a NEAR. H\xf4m nay b\u1ea1n s\u1ebd h\u1ecdc c\xe1ch t\u1ea1o logic c\u1ea7n thi\u1ebft \u0111\u1ec3 mint (\u0111\xfac) NFT v\xe0 \u0111\u1ec3 ch\xfang hi\u1ec3n th\u1ecb trong v\xed NEAR c\u1ee7a b\u1ea1n. B\u1ea1n s\u1ebd s\u1eeda \u0111\u1ed5i m\u1ed9t ph\u1ea7n c\u1ee7a ",(0,c.jsx)(t.a,{href:"/tutorials/nfts/js/skeleton",children:"skeleton smart contract"})," b\u1eb1ng c\xe1ch \u0111i\u1ec1n v\xe0o c\xe1c code snippet c\u1ea7n thi\u1ebft c\u1ea7n thi\u1ebft \u0111\u1ec3 th\xeam c\xe1c ch\u1ee9c n\u0103ng mint."]}),"\n",(0,c.jsx)(t.h2,{id:"gi\u1edbi-thi\u1ec7u",children:"Gi\u1edbi thi\u1ec7u"}),"\n",(0,c.jsxs)(t.p,{children:["\u0110\u1ec3 b\u1eaft \u0111\u1ea7u, h\xe3y switch sang branch ",(0,c.jsx)(t.code,{children:"1.skeleton"})," trong repo c\u1ee7a ch\xfang t\xf4i. N\u1ebfu b\u1ea1n ch\u01b0a clone repository, h\xe3y tham kh\u1ea3o ",(0,c.jsx)(t.a,{href:"/tutorials/nfts/js/skeleton",children:"Ki\u1ebfn tr\xfac c\u1ee7a Contract"})," \u0111\u1ec3 b\u1eaft \u0111\u1ea7u."]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{children:"git checkout 1.skeleton\n"})}),"\n",(0,c.jsxs)(t.p,{children:["N\u1ebfu b\u1ea1n mu\u1ed1n xem code ho\xe0n ch\u1ec9nh cho ph\u1ea7n mint c\u1ee7a h\u01b0\u1edbng d\u1eabn, b\u1ea1n c\xf3 th\u1ec3 t\xecm tr\xean branch ",(0,c.jsx)(t.code,{children:"2.minting"}),"."]}),"\n",(0,c.jsx)(t.h2,{id:"what-does-minting-mean",children:"C\xe1c s\u1eeda \u0111\u1ed5i \u0111\u1ed1i v\u1edbi skeleton contract"}),"\n",(0,c.jsx)(t.p,{children:"\u0110\u1ec3 implement logic c\u1ea7n thi\u1ebft cho vi\u1ec7c mint, ch\xfang ta n\xean chia n\xf3 th\xe0nh c\xe1c nhi\u1ec7m v\u1ee5 nh\u1ecf h\u01a1n v\xe0 x\u1eed l\xfd t\u1eebng vi\u1ec7c m\u1ed9t. H\xe3y l\xf9i l\u1ea1i v\xe0 suy ngh\u0129 v\u1ec1 c\xe1ch t\u1ed1t nh\u1ea5t \u0111\u1ec3 l\xe0m \u0111i\u1ec1u n\xe0y, b\u1eb1ng c\xe1ch t\u1ef1 h\u1ecfi b\u1ea3n th\xe2n m\u1ed9t c\xe2u h\u1ecfi \u0111\u01a1n gi\u1ea3n: mint NFT ngh\u0129a l\xe0 g\xec?"}),"\n",(0,c.jsx)(t.p,{children:"\u0110\u1ec3 mint ra m\u1ed9t non-fungible token, theo c\xe1ch \u0111\u01a1n gi\u1ea3n nh\u1ea5t c\xf3 th\u1ec3, m\u1ed9t contract c\u1ea7n c\xf3 kh\u1ea3 n\u0103ng li\xean k\u1ebft token v\u1edbi m\u1ed9t owner tr\xean blockchain. C\xf3 ngh\u0129a l\xe0 b\u1ea1n s\u1ebd c\u1ea7n:"}),"\n",(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsx)(t.li,{children:"M\u1ed9t c\xe1ch \u0111\u1ec3 theo d\xf5i c\xe1c token v\xe0 th\xf4ng tin kh\xe1c tr\xean contract."}),"\n",(0,c.jsxs)(t.li,{children:["M\u1ed9t c\xe1ch \u0111\u1ec3 l\u01b0u tr\u1eef th\xf4ng tin cho t\u1eebng token, ch\u1eb3ng h\u1ea1n nh\u01b0 ",(0,c.jsx)(t.code,{children:"metadata"})," (s\u1ebd t\xecm hi\u1ec3u th\xeam \u1edf ph\u1ea7n sau)."]}),"\n",(0,c.jsx)(t.li,{children:"M\u1ed9t c\xe1ch \u0111\u1ec3 li\xean k\u1ebft m\u1ed9t token v\u1edbi m\u1ed9t owner."}),"\n"]}),"\n",(0,c.jsx)(t.p,{children:"Ch\u1ec9 v\u1eady th\xf4i! V\u1eady l\xe0 ch\xfang ta \u0111\xe3 chia nh\u1ecf v\u1ea5n \u0111\u1ec1 l\u1edbn th\xe0nh m\u1ed9t v\xe0i nhi\u1ec7m v\u1ee5 nh\u1ecf h\u01a1n, \xedt kh\xf3 kh\u0103n h\u01a1n. H\xe3y b\u1eaft \u0111\u1ea7u b\u1eb1ng c\xe1ch gi\u1ea3i quy\u1ebft ph\u1ea7n \u0111\u1ea7u ti\xean v\xe0 th\u1ef1c hi\u1ec7n theo c\xe1ch ch\xfang t\xf4i \u0111\u1ebfn c\xe1c ph\u1ea7n c\xf2n l\u1ea1i."}),"\n",(0,c.jsx)(t.h3,{id:"storing-information",children:"L\u01b0u th\xf4ng tin tr\xean contract"}),"\n",(0,c.jsxs)(t.p,{children:["B\u1eaft \u0111\u1ea7u b\u1eb1ng c\xe1ch \u0111\u1ebfn ",(0,c.jsx)(t.code,{children:"nft-contract/src/index.ts"})," v\xe0 \u0111i\u1ec1n v\xe0o m\u1ed9t s\u1ed1 code block. B\u1ea1n c\u1ea7n c\xf3 th\u1ec3 l\u01b0u tr\u1eef th\xf4ng tin quan tr\u1ecdng tr\xean contract, ch\u1eb3ng h\u1ea1n nh\u01b0 danh s\xe1ch c\xe1c token m\xe0 account s\u1edf h\u1eefu."]}),"\n",(0,c.jsx)(t.p,{children:"The first thing to do is add the information to the contract class."}),"\n",(0,c.jsx)(a.Ey,{language:"js",start:"16",end:"22",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/index.ts"}),"\n",(0,c.jsx)(t.p,{children:"This allows you to get the information stored in these data structures from anywhere in the contract. The code above has created 3 token specific storages:"}),"\n",(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"tokensPerOwner"}),": allows you to keep track of the tokens owned by any account. It will map the account address to a set of token ID strings owned by that account."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"tokensById"}),": returns all the information about a specific token. It will map a token ID string to a ",(0,c.jsx)(t.code,{children:"Token"})," object."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"tokenMetadataById"}),": returns just the metadata for a specific token. It wil map a token ID string to a ",(0,c.jsx)(t.code,{children:"TokenMetadata"})," object."]}),"\n"]}),"\n",(0,c.jsx)(t.p,{children:"In addition, you'll keep track of the owner of the contract as well as the metadata for the contract."}),"\n",(0,c.jsx)(t.h4,{id:"constructor-function",children:"Constructor Function"}),"\n",(0,c.jsxs)(t.p,{children:["Next, you'll add the logic to the constructor function. This function needs to be invoked when you first deploy the contract. It will initialize all the contract's fields that you've defined above with default values. We've added the ",(0,c.jsx)(t.code,{children:"ownerId"})," and ",(0,c.jsx)(t.code,{children:"metadata"})," fields as parameters to the function because those are the only ones that can be customized."]}),"\n",(0,c.jsxs)(t.p,{children:["This function will default all the collections to be empty and set the ",(0,c.jsx)(t.code,{children:"owner"})," and ",(0,c.jsx)(t.code,{children:"metadata"})," equal to what you pass in."]}),"\n",(0,c.jsx)(a.Ey,{language:"js",start:"24",end:"43",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/index.ts"}),"\n",(0,c.jsx)(t.p,{children:"Th\u01b0\u1eddng th\xec khi develop, b\u1ea1n s\u1ebd c\u1ea7n deploy c\xe1c contract m\u1ed9t v\xe0i l\u1ea7n. B\u1ea1n c\xf3 th\u1ec3 t\u01b0\u1edfng t\u01b0\u1ee3ng \u0111\u01b0\u1ee3c s\u1ef1 t\u1ebb nh\u1ea1t khi ph\u1ea3i pass metadata m\u1ed7i khi init contract. For this reason, the metadata has been defaulted with some initial data if it wasn't passed in by the user."}),"\n",(0,c.jsx)(t.h3,{id:"metadata-and-token-info",children:"Metadata v\xe0 th\xf4ng tin token"}),"\n",(0,c.jsxs)(t.p,{children:["B\xe2y gi\u1edd b\u1ea1n \u0111\xe3 x\xe1c \u0111\u1ecbnh th\xf4ng tin n\xe0o c\u1ea7n l\u01b0u tr\u1eef tr\xean ch\xednh contract c\u0169ng nh\u01b0 m\u1ed9t s\u1ed1 c\xe1ch \u0111\u1ec3 init contract, b\u1ea1n c\u1ea7n x\xe1c \u0111\u1ecbnh th\xf4ng tin n\xe0o s\u1ebd c\xf3 trong c\xe1c data type ",(0,c.jsx)(t.code,{children:"Token"}),", ",(0,c.jsx)(t.code,{children:"TokenMetadata"}),", v\xe0 ",(0,c.jsx)(t.code,{children:"NFTContractMetadata"}),"."]}),"\n",(0,c.jsxs)(t.p,{children:["H\xe3y chuy\u1ec3n qua file ",(0,c.jsx)(t.code,{children:"nft-contract/src/metadata.ts"})," v\xec \u0111\xe2y l\xe0 n\u01a1i s\u1ebd ch\u1ee9a th\xf4ng tin. If you look at the ",(0,c.jsx)(t.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Metadata",children:"standards for metadata"}),", you'll find all the necessary information that you need to store for both ",(0,c.jsx)(t.code,{children:"TokenMetadata"})," and ",(0,c.jsx)(t.code,{children:"NFTContractMetadata"}),". \u0110\u01a1n gi\u1ea3n ch\u1ec9 c\u1ea7n \u0111i\u1ec1n v\xe0o code sau."]}),"\n",(0,c.jsx)(a.Ey,{language:"js",start:"12",end:"104",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/metadata.ts"}),"\n",(0,c.jsxs)(t.p,{children:["\u0110\u1ebfn \u0111\xe2y b\u1ea1n s\u1ebd c\xf3 struct ",(0,c.jsx)(t.code,{children:"Token"})," v\xe0 c\xf3 ",(0,c.jsx)(t.code,{children:"JsonToken"}),". Struct ",(0,c.jsx)(t.code,{children:"Token"})," s\u1ebd ch\u1ee9a t\u1ea5t c\u1ea3 th\xf4ng tin li\xean quan \u0111\u1ebfn token, ngo\u1ea1i tr\u1eeb metadata. The metadata, if you remember, is stored in a map on the contract in a data structured called ",(0,c.jsx)(t.code,{children:"tokenMetadataById"}),". N\xf3 cho ph\xe9p b\u1ea1n c\xf3 th\u1ec3 l\u1ea5y nhanh metadata c\u1ee7a b\u1ea5t k\u1ef3 token n\xe0o, b\u1eb1ng c\xe1ch ch\u1ec9 c\u1ea7n pass v\xe0o ID c\u1ee7a token."]}),"\n",(0,c.jsxs)(t.p,{children:["\u0110\u1ed1i v\u1edbi struct ",(0,c.jsx)(t.code,{children:"Token"}),", b\u1ea1n s\u1ebd ch\u1ec9 c\u1ea7n theo d\xf5i owner t\u1eeb l\xfac n\xe0y."]}),"\n",(0,c.jsx)(a.Ey,{language:"js",start:"106",end:"117",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/metadata.ts"}),"\n",(0,c.jsxs)(t.p,{children:["M\u1ee5c \u0111\xedch c\u1ee7a ",(0,c.jsx)(t.code,{children:"JsonToken"})," l\xe0 ch\u1ee9a t\u1ea5t c\u1ea3 c\xe1c th\xf4ng tin cho m\u1ed9t NFT m\xe0 b\u1ea1n mu\u1ed1n g\u1edfi tr\u1ea3 l\u1ea1i d\u01b0\u1edbi d\u1ea1ng JSON khi ai \u0111\xf3 th\u1ef1c hi\u1ec7n m\u1ed9t view call. Ngh\u0129a l\xe0 b\u1ea1n s\u1ebd c\u1ea7n ch\u1ee9a owner, token ID, v\xe0 metadata."]}),"\n",(0,c.jsx)(a.Ey,{language:"js",start:"119",end:"141",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/metadata.ts"}),"\n",(0,c.jsxs)(t.admonition,{type:"tip",children:[(0,c.jsxs)(t.mdxAdmonitionTitle,{children:["C\xf3 th\u1ec3 m\u1ed9t v\xe0i b\u1ea1n s\u1ebd ngh\u0129 ",(0,c.jsxs)(t.em,{children:['"t\u1ea1i sao ch\xfang ta kh\xf4ng ch\u1ee9a t\u1ea5t c\u1ea3 th\xf4ng tin trong struct ',(0,c.jsx)(t.code,{children:"Token"}),' cho \u0111\u01a1n gi\u1ea3n?"']}),". L\xfd do l\xe0, vi\u1ec7c ch\u1ec9 t\u1ea1o JSON token khi b\u1ea1n c\u1ea7n \u0111\u1ebfn s\u1ebd hi\u1ec7u qu\u1ea3 h\u01a1n l\xe0 l\u01b0u tr\u1eef t\u1ea5t c\u1ea3 th\xf4ng tin trong struct token. H\u01a1n n\u1eefa, m\u1ed9t s\u1ed1 ho\u1ea1t \u0111\u1ed9ng c\xf3 th\u1ec3 ch\u1ec9 c\u1ea7n metadata c\u1ee7a m\u1ed9t token v\xe0 do \u0111\xf3, vi\u1ec7c c\xf3 metadata trong m\u1ed9t data structure ri\xeang bi\u1ec7t s\u1ebd t\u1ed1i \u01b0u h\u01a1n. :::"]}),(0,c.jsx)(t.h4,{id:"function-cho-vi\u1ec7c-query-contract-metadata",children:"Function cho vi\u1ec7c query contract metadata"}),(0,c.jsxs)(t.p,{children:["Now that you've defined some of the types that were used in the previous section, let's move on and create the first view function ",(0,c.jsx)(t.code,{children:"internalNftMetadata"}),". This will allow users to query for the contract's metadata as per the ",(0,c.jsx)(t.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Metadata",children:"metadata standard"}),"."]}),(0,c.jsx)(a.Ey,{language:"js",start:"143",end:"150",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/metadata.ts"}),(0,c.jsxs)(t.p,{children:["Function n\xe0y s\u1ebd l\u1ea5y object ",(0,c.jsx)(t.code,{children:"metadata"})," t\u1eeb contract thu\u1ed9c type ",(0,c.jsx)(t.code,{children:"NFTContractMetadata"})," v\xe0 tr\u1ea3 v\u1ec1 n\xf3."]}),(0,c.jsx)(t.p,{children:"Nh\u01b0 v\u1eady, b\u1ea1n \u0111\xe3 ho\xe0n th\xe0nh hai nhi\u1ec7m v\u1ee5 \u0111\u1ea7u ti\xean v\xe0 s\u1eb5n s\xe0ng chuy\u1ec3n sang ph\u1ea7n cu\u1ed1i c\xf9ng c\u1ee7a h\u01b0\u1edbng d\u1eabn."}),(0,c.jsx)(t.h3,{id:"minting-logic",children:"Logic c\u1ee7a vi\u1ec7c Mint"}),(0,c.jsxs)(t.p,{children:["B\xe2y gi\u1edd t\u1ea5t c\u1ea3 c\xe1c th\xf4ng tin v\xe0 type \u0111\xe3 \u0111\u01b0\u1ee3c x\xe1c \u0111\u1ecbnh, ch\xfang ta h\xe3y b\u1eaft \u0111\u1ea7u \u0111\u1ed9ng n\xe3o xem logic c\u1ee7a vi\u1ec7c mint s\u1ebd di\u1ec5n ra nh\u01b0 th\u1ebf n\xe0o. Cu\u1ed1i c\xf9ng, b\u1ea1n c\u1ea7n ph\u1ea3i link m\u1ed9t ",(0,c.jsx)(t.code,{children:"Token"})," v\xe0 ",(0,c.jsx)(t.code,{children:"TokenId"})," \u0111\u1ebfn m\u1ed9t owner c\u1ee5 th\u1ec3. Let's look back at a couple data structures that might be useful:"]}),(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-ts",children:"//keeps track of all the token IDs for a given account\ntokensPerOwner: LookupMap<AccountId, UnorderedSet<TokenId>>;\n\n//keeps track of the token struct for a given token ID\ntokensById: LookupMap<TokenId, Token>;\n\n//keeps track of the token metadata for a given token ID\ntokenMetadataById: UnorderedMap<TokenId, TokenMetadata>;\n"})}),(0,c.jsx)(t.p,{children:"Nh\xecn v\xe0o c\xe1c data structure n\xe0y, b\u1ea1n c\xf3 th\u1ec3 l\xe0m nh\u01b0 sau:"}),(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:["Th\xeam token ID v\xe0o t\u1eadp h\u1ee3p c\xe1c token m\xe0 ng\u01b0\u1eddi nh\u1eadn s\u1edf h\u1eefu. This will be done on the ",(0,c.jsx)(t.code,{children:"tokensPerOwner"})," field."]}),"\n",(0,c.jsxs)(t.li,{children:["Create a token object and map the token ID to that token object in the ",(0,c.jsx)(t.code,{children:"tokensById"})," field."]}),"\n",(0,c.jsxs)(t.li,{children:["Map the token ID to it's metadata using the ",(0,c.jsx)(t.code,{children:"tokenMetadataById"}),"."]}),"\n"]}),(0,c.jsx)(t.p,{children:'V\u1edbi nh\u1eefng b\u01b0\u1edbc \u0111\xe3 n\xeau, \u0111i\u1ec1u quan tr\u1ecdng l\xe0 ph\u1ea3i t\xednh \u0111\u1ebfn chi ph\xed l\u01b0u tr\u1eef c\u1ee7a vi\u1ec7c mint NFT. V\xec b\u1ea1n \u0111ang th\xeam byte v\xe0o contract b\u1eb1ng c\xe1ch t\u1ea1o c\xe1c m\u1ee5c trong c\xe1c data structure, n\xean contract c\u1ea7n chi tr\u1ea3 chi ph\xed l\u01b0u tr\u1eef. N\u1ebfu b\u1ea1n ch\u1ec9 t\u1ea1o contract \u0111\u1ec3 b\u1ea5t k\u1ef3 ng\u01b0\u1eddi d\xf9ng n\xe0o c\u0169ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng v\xe0 mint m\u1ed9t NFT mi\u1ec5n ph\xed, h\u1ec7 th\u1ed1ng \u0111\xf3 c\xf3 th\u1ec3 d\u1ec5 d\xe0ng b\u1ecb l\u1ea1m d\u1ee5ng v\xe0 ng\u01b0\u1eddi d\xf9ng c\xf3 th\u1ec3 "r\xfat ru\u1ed9t" t\u1ea5t c\u1ea3 s\u1ed1 ti\u1ec1n c\u1ee7a contract b\u1eb1ng c\xe1ch mint ra h\xe0ng ngh\xecn NFT. V\xec l\xfd do n\xe0y, b\u1ea1n c\u1ea7n ph\u1ea3i y\xeau c\u1ea7u ng\u01b0\u1eddi d\xf9ng ph\u1ea3i \u0111\xednh k\xe8m m\u1ed9t kho\u1ea3n deposit khi call \u0111\u1ec3 trang tr\u1ea3i chi ph\xed l\u01b0u tr\u1eef. B\u1ea1n s\u1ebd \u0111o m\u1ee9c s\u1eed d\u1ee5ng storage ban \u0111\u1ea7u tr\u01b0\u1edbc khi m\u1ecdi th\u1ee9 \u0111\u01b0\u1ee3c th\xeam v\xe0o v\xe0 \u0111o m\u1ee9c s\u1eed d\u1ee5ng storage cu\u1ed1i c\xf9ng sau khi t\u1ea5t c\u1ea3 logic ho\xe0n t\u1ea5t. Sau \u0111\xf3, b\u1ea1n c\u1ea7n \u0111\u1ea3m b\u1ea3o r\u1eb1ng ng\u01b0\u1eddi d\xf9ng \u0111\xe3 \u0111\xednh k\xe8m \u0111\u1ee7 $NEAR \u0111\u1ec3 trang tr\u1ea3i chi ph\xed \u0111\xf3 v\xe0 ho\xe0n l\u1ea1i ti\u1ec1n cho h\u1ecd n\u1ebfu h\u1ecd \u0111\xe3 \u0111\xednh k\xe8m qu\xe1 nhi\u1ec1u.'}),(0,c.jsx)(t.p,{children:"B\xe2y gi\u1edd b\u1ea1n \u0111\xe3 hi\u1ec3u r\xf5 m\u1ecdi th\u1ee9 s\u1ebd di\u1ec5n ra nh\u01b0 th\u1ebf n\xe0o, h\xe3y \u0111i\u1ec1n v\xe0o \u0111o\u1ea1n code c\u1ea7n thi\u1ebft."}),(0,c.jsx)(a.Ey,{language:"js",start:"7",end:"44",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/mint.ts"}),(0,c.jsxs)(t.p,{children:["You'll notice that we're using some internal methods such as ",(0,c.jsx)(t.code,{children:"refundDeposit"})," and ",(0,c.jsx)(t.code,{children:"internalAddTokenToOwner"}),". We've described the function of ",(0,c.jsx)(t.code,{children:"refundDeposit"})," and as for ",(0,c.jsx)(t.code,{children:"internalAddTokenToOwner"}),", this will add a token to the set of tokens an account owns for the contract's ",(0,c.jsx)(t.code,{children:"tokensPerOwner"})," data structure. B\u1ea1n c\xf3 th\u1ec3 t\u1ea1o c\xe1c function n\xe0y trong m\u1ed9t file c\xf3 t\xean ",(0,c.jsx)(t.code,{children:"internal.ts"}),". H\xe3y ti\u1ebfp t\u1ee5c v\xe0 t\u1ea1o file. Ki\u1ebfn tr\xfac contract m\u1edbi c\u1ee7a b\u1ea1n s\u1ebd tr\xf4ng nh\u01b0 sau:"]}),(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{children:"nft-contract\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 approval.ts\n    \u251c\u2500\u2500 enumeration.ts\n    \u251c\u2500\u2500 internal.ts\n    \u251c\u2500\u2500 lib.ts\n    \u251c\u2500\u2500 metadata.ts\n    \u251c\u2500\u2500 mint.ts\n    \u251c\u2500\u2500 nft_core.ts\n    \u2514\u2500\u2500 royalty.ts\n"})}),(0,c.jsxs)(t.p,{children:["Th\xeam code sau v\xe0o file ",(0,c.jsx)(t.code,{children:"internal.ts"})," m\xe0 b\u1ea1n v\u1eeba t\u1ea1o."]}),(0,c.jsx)(a.Ey,{language:"js",start:"1",end:"54",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/internal.ts"}),(0,c.jsxs)(t.p,{children:["T\u1ea1i th\u1eddi \u0111i\u1ec3m n\xe0y, t\u1ea5t c\u1ea3 logic c\u1ed1t l\xf5i \u0111\xe3 s\u1eb5n s\xe0ng \u0111\u1ec3 b\u1ea1n c\xf3 th\u1ec3 mint c\xe1c NFT. B\u1ea1n c\xf3 th\u1ec3 d\xf9ng function ",(0,c.jsx)(t.code,{children:"nft_mint"}),", v\u1edbi c\xe1c parameter sau:"]}),(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"token_id"}),": ID c\u1ee7a token m\xe0 b\u1ea1n \u0111ang mint (ki\u1ec3u string)."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"metadata"}),": metadata cho token m\xe0 b\u1ea1n \u0111ang mint (ki\u1ec3u ",(0,c.jsx)(t.code,{children:"TokenMetadata"}),", c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c t\xecm th\u1ea5y trong file ",(0,c.jsx)(t.code,{children:"metadata.ts"}),")."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"receiver_id"}),": ch\u1ec9 \u0111\u1ecbnh ai s\u1ebd l\xe0 owner c\u1ee7a token."]}),"\n"]}),(0,c.jsx)(t.p,{children:"Ph\xeda \u0111\u1eb1ng sau, function n\xe0y s\u1ebd:"}),(0,c.jsxs)(t.ol,{children:["\n",(0,c.jsx)(t.li,{children:"Call the internal mint function."}),"\n",(0,c.jsx)(t.li,{children:"T\xednh to\xe1n storage ban \u0111\u1ea7u tr\u01b0\u1edbc khi th\xeam b\u1ea5t k\u1ef3 th\u1ee9 g\xec v\xe0o contract"}),"\n",(0,c.jsxs)(t.li,{children:["T\u1ea1o m\u1ed9t object ",(0,c.jsx)(t.code,{children:"Token"})," v\u1edbi owner ID"]}),"\n",(0,c.jsxs)(t.li,{children:["Link the token ID to the newly created token object by inserting them into the ",(0,c.jsx)(t.code,{children:"tokensById"})," field."]}),"\n",(0,c.jsxs)(t.li,{children:["Link the token ID to the passed in metadata by inserting them into the ",(0,c.jsx)(t.code,{children:"tokenMetadataById"})," field."]}),"\n",(0,c.jsxs)(t.li,{children:["Add the token ID to the list of tokens that the owner owns by calling the ",(0,c.jsx)(t.code,{children:"internalAddTokenToOwner"})," function."]}),"\n",(0,c.jsx)(t.li,{children:"T\xednh to\xe1n net storage cu\u1ed1i c\xf9ng \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o r\u1eb1ng ng\u01b0\u1eddi d\xf9ng \u0111\xe3 g\u1eafn \u0111\u1ee7 NEAR v\xe0o l\u1ec7nh call \u0111\u1ec3 trang tr\u1ea3i c\xe1c chi ph\xed \u0111\xf3."}),"\n"]}),(0,c.jsx)(t.h3,{id:"query-th\xf4ng-tin-token",children:"Query th\xf4ng tin token"}),(0,c.jsxs)(t.p,{children:["N\u1ebfu b\u1ea1n ti\u1ebfp t\u1ee5c v\xe0 tri\u1ec3n khai h\u1ee3p \u0111\u1ed3ng n\xe0y, kh\u1edfi t\u1ea1o n\xf3 v\xe0 mint NFT, b\u1ea1n s\u1ebd kh\xf4ng c\xf3 c\xe1ch n\xe0o \u0111\u1ec3 bi\u1ebft ho\u1eb7c query th\xf4ng tin v\u1ec1 token b\u1ea1n v\u1eeba mint ra. H\xe3y nhanh ch\xf3ng th\xeam m\u1ed9t c\xe1ch \u0111\u1ec3 query th\xf4ng tin c\u1ee7a m\u1ed9t NFT c\u1ee5 th\u1ec3. You'll move to the ",(0,c.jsx)(t.code,{children:"nft-contract/src/nft_core.ts"})," file and edit the ",(0,c.jsx)(t.code,{children:"internalNftToken"})," function."]}),(0,c.jsxs)(t.p,{children:["N\xf3 s\u1ebd l\u1ea5y token ID l\xe0m tham s\u1ed1 v\xe0 tr\u1ea3 v\u1ec1 th\xf4ng tin cho token \u0111\xf3. ",(0,c.jsx)(t.code,{children:"JsonToken"})," ch\u1ee9a token ID, owner ID, v\xe0 metadata c\u1ee7a token."]}),(0,c.jsx)(a.Ey,{language:"js",start:"10",end:"35",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/nft_core.ts"}),(0,c.jsx)(t.p,{children:"Sau khi ho\xe0n th\xe0nh, cu\u1ed1i c\xf9ng c\u0169ng \u0111\xe3 \u0111\u1ebfn l\xfac build v\xe0 deploy contract \u0111\u1ec3 b\u1ea1n c\xf3 th\u1ec3 mint NFT \u0111\u1ea7u ti\xean c\u1ee7a m\xecnh."}),(0,c.jsx)(t.h2,{id:"t\u01b0\u01a1ng-t\xe1c-v\u1edbi-on-chain-contract",children:"T\u01b0\u01a1ng t\xe1c v\u1edbi on-chain contract"}),(0,c.jsx)(t.p,{children:"B\xe2y gi\u1edd logic \u0111\u1ec3 mint \u0111\xe3 ho\xe0n t\u1ea5t v\xe0 b\u1ea1n \u0111\xe3 th\xeam m\u1ed9t c\xe1ch \u0111\u1ec3 query th\xf4ng tin v\u1ec1 c\xe1c token c\u1ee5 th\u1ec3, \u0111\xe3 \u0111\u1ebfn l\xfac build v\xe0 deploy contract c\u1ee7a b\u1ea1n l\xean blockchain."}),(0,c.jsx)(t.h3,{id:"deploy-the-contract",children:"Deploy m\u1ed9t contract"}),(0,c.jsxs)(t.p,{children:["Ch\xfang t\xf4i \u0111\xe3 \u0111\u01b0a ra m\u1ed9t c\xe1ch r\u1ea5t \u0111\u01a1n gi\u1ea3n \u0111\u1ec3 build c\xe1c smart contract trong su\u1ed1t h\u01b0\u1edbng d\u1eabn n\xe0y b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,c.jsx)(t.code,{children:"yarn"}),". The following command will build the contract and copy over the ",(0,c.jsx)(t.code,{children:".wasm"})," file to a folder ",(0,c.jsx)(t.code,{children:"build/nft.wasm"}),"."]}),(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"yarn build:nft\n"})}),(0,c.jsxs)(t.p,{children:["\u0110\u1ec3 deploy, b\u1ea1n c\u1ea7n m\u1ed9t account NEAR v\u1edbi c\xe1c key ch\u1ee9a s\u1eb5n trong local machine c\u1ee7a b\u1ea1n. Navigate to the ",(0,c.jsx)(t.a,{href:"https://testnet.mynearwallet.com//",children:"NEAR wallet"})," site and create an account."]}),(0,c.jsx)(t.admonition,{type:"info",children:(0,c.jsx)(t.p,{children:"H\xe3y \u0111\u1ea3m b\u1ea3o r\u1eb1ng b\u1ea1n deploy contract cho m\u1ed9t account kh\xf4ng c\xf3 contract n\xe0o t\u1ed3n t\u1ea1i t\u1eeb tr\u01b0\u1edbc. C\xe1ch \u0111\u01a1n gi\u1ea3n nh\u1ea5t l\xe0 ch\u1ec9 c\u1ea7n t\u1ea1o m\u1ed9t account m\u1edbi ho\u1eb7c t\u1ea1o m\u1ed9t account ph\u1ee5 cho h\u01b0\u1edbng d\u1eabn n\xe0y."})})]}),"\n",(0,c.jsxs)(t.p,{children:["\u0110\u0103ng nh\u1eadp v\xe0o account v\u1eeba m\u1edbi t\u1ea1o v\u1edbi ",(0,c.jsx)(t.code,{children:"near-cli"})," b\u1eb1ng c\xe1ch ch\u1ea1y c\xe2u l\u1ec7nh sau trong terminal c\u1ee7a b\u1ea1n."]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"near login\n"})}),"\n",(0,c.jsxs)(t.p,{children:["\u0110\u1ec3 l\xe0m cho h\u01b0\u1edbng d\u1eabn n\xe0y d\u1ec5 d\xe0ng h\u01a1n v\u1edbi copy/paste, ch\xfang t\xf4i \u0111\xe3 set m\u1ed9t bi\u1ebfn m\xf4i tr\u01b0\u1eddng cho account ID c\u1ee7a b\u1ea1n. Trong command d\u01b0\u1edbi \u0111\xe2y, thay ",(0,c.jsx)(t.code,{children:"YOUR_ACCOUNT_NAME"})," v\u1edbi account name b\u1ea1n v\u1eeba \u0111\u0103ng nh\u1eadp, bao g\u1ed3m ph\u1ea7n ",(0,c.jsx)(t.code,{children:".testnet"}),":"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:'export NFT_CONTRACT_ID="YOUR_ACCOUNT_NAME"\n'})}),"\n",(0,c.jsx)(t.p,{children:"Ki\u1ec3m tra bi\u1ebfn m\xf4i tr\u01b0\u1eddng \u0111\u01b0\u1ee3c c\xe0i \u0111\u1eb7t \u0111\xfang hay ch\u01b0a b\u1eb1ng c\xe1ch ch\u1ea1y:"}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"echo $NFT_CONTRACT_ID\n"})}),"\n",(0,c.jsx)(t.p,{children:"H\xe3y x\xe1c nh\u1eadn r\u1eb1ng account \u0111\u01b0\u1ee3c in ra trong terminal l\xe0 ch\xednh x\xe1c. N\u1ebfu m\u1ecdi th\u1ee9 \u0111\u1ec1u \u0111\xfang, th\xec b\xe2y gi\u1edd b\u1ea1n c\xf3 th\u1ec3 deploy contract c\u1ee7a b\u1ea1n. Trong th\u01b0 m\u1ee5c root c\u1ee7a NFT project, ch\u1ea1y c\xe2u l\u1ec7nh sau \u0111\u1ec3 deploy smart contract c\u1ee7a b\u1ea1n."}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"near deploy --wasmFile build/nft.wasm --accountId $NFT_CONTRACT_ID\n"})}),"\n",(0,c.jsx)(t.p,{children:"T\u1ea1i th\u1eddi \u0111i\u1ec3m n\xe0y, contract \u0111\xe3 \u0111\u01b0\u1ee3c deploy v\xe0o account c\u1ee7a b\u1ea1n, v\xe0 \u0111\xe3 s\u1eb5n s\xe0ng \u0111\u1ec3 chuy\u1ec3n sang test v\xe0 mint NFT."}),"\n",(0,c.jsx)(t.h3,{id:"initialize-contract",children:"Init contract"}),"\n",(0,c.jsx)(t.p,{children:"\u0110i\u1ec1u \u0111\u1ea7u ti\xean b\u1ea1n c\u1ea7n l\xe0m khi contract \u0111\xe3 \u0111\u01b0\u1ee3c deploy l\xe0 init n\xf3. \u0110\u1ec3 \u0111\u01a1n gi\u1ea3n h\u01a1n, h\xe3y g\u1ecdi h\xe0m init metadata m\u1eb7c \u0111\u1ecbnh m\xe0 b\u1ea1n \u0111\xe3 vi\u1ebft tr\u01b0\u1edbc \u0111\xf3, \u0111\u1ec3 kh\xf4ng c\u1ea7n ph\u1ea3i nh\u1eadp metadata theo c\xe1ch th\u1ee7 c\xf4ng trong CLI."}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"near call $NFT_CONTRACT_ID init '{\"owner_id\": \"'$NFT_CONTRACT_ID'\"}' --accountId $NFT_CONTRACT_ID\n"})}),"\n",(0,c.jsx)(t.p,{children:"B\u1ea1n v\u1eeba kh\u1edfi t\u1ea1o contract v\u1edbi m\u1ed9t s\u1ed1 metadata m\u1eb7c \u0111\u1ecbnh v\xe0 \u0111\u1eb7t account ID c\u1ee7a b\u1ea1n l\xe0m owner. Gi\u1edd \u0111\xe2y, b\u1ea1n \u0111\xe3 s\u1eb5n s\xe0ng \u0111\u1ec3 g\u1ecdi view function \u0111\u1ea7u ti\xean c\u1ee7a m\xecnh."}),"\n",(0,c.jsx)(t.h3,{id:"xem-metadata-c\u1ee7a-contract",children:"Xem metadata c\u1ee7a contract"}),"\n",(0,c.jsx)(t.p,{children:"B\xe2y gi\u1edd contract \u0111\xe3 \u0111\u01b0\u1ee3c init, b\u1ea1n c\xf3 th\u1ec3 call m\u1ed9t s\u1ed1 function m\xe0 b\u1ea1n \u0111\xe3 vi\u1ebft tr\u01b0\u1edbc \u0111\xf3. C\u1ee5 th\u1ec3 h\u01a1n, h\xe3y test function tr\u1ea3 v\u1ec1 metadata c\u1ee7a contract:"}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"near view $NFT_CONTRACT_ID nft_metadata\n"})}),"\n",(0,c.jsx)(t.p,{children:"N\xf3 s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t output trong gi\u1ed1ng nh\u01b0 sau:"}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"{ spec: 'nft-1.0.0', name: 'NFT Tutorial Contract', symbol: 'GOTEAM' }\n"})}),"\n",(0,c.jsx)(t.p,{children:"T\u1ea1i th\u1eddi \u0111i\u1ec3m n\xe0y, b\u1ea1n \u0111\xe3 s\u1eb5n s\xe0ng \u0111\u1ec3 ti\u1ebfp t\u1ee5c v\xe0 mint NFT \u0111\u1ea7u ti\xean c\u1ee7a m\xecnh."}),"\n",(0,c.jsx)(t.h3,{id:"minting-our-first-nft",children:"Mint NFT \u0111\u1ea7u ti\xean c\u1ee7a ch\xfang ta"}),"\n",(0,c.jsxs)(t.p,{children:["N\xe0o h\xe3y call function d\xf9ng \u0111\u1ec3 mint m\xe0 b\u1ea1n \u0111\xe3 t\u1ea1o tr\u01b0\u1edbc \u0111\xf3. Function n\xe0y c\u1ea7n m\u1ed9t ",(0,c.jsx)(t.code,{children:"token_id"})," v\xe0 ",(0,c.jsx)(t.code,{children:"metadata"}),". N\u1ebfu b\u1ea1n nh\xecn l\u1ea1i struct ",(0,c.jsx)(t.code,{children:"TokenMetadata"})," m\xe0 b\u1ea1n \u0111\xe3 t\u1ea1o tr\u01b0\u1edbc \u0111\xf3, c\xf3 nhi\u1ec1u tr\u01b0\u1eddng c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef on-chain:"]}),"\n",(0,c.jsx)(a.Ey,{language:"js",start:"91",end:"102",url:"https://github.com/near-examples/nft-tutorial-js/blob/2.minting/src/nft-contract/metadata.ts"}),"\n",(0,c.jsx)(t.p,{children:"H\xe3y b\u1eaft \u0111\u1ea7u mint m\u1ed9t NFT v\u1edbi m\u1ed9t title, description, v\xe0 media. Tr\u01b0\u1eddng media c\xf3 th\u1ec3 l\xe0 b\u1ea5t k\u1ef3 URL n\xe0o tr\u1ecf \u0111\u1ebfn m\u1ed9t file media. Ch\xfang ta c\xf3 m\u1ed9t file GIF tuy\u1ec7t v\u1eddi \u0111\u1ec3 mint nh\u01b0ng n\u1ebfu b\u1ea1n mu\u1ed1n t\u1ea1o m\u1ed9t NFT t\xf9y ch\u1ec9nh, ch\u1ec9 c\u1ea7n thay th\u1ebf media link c\u1ee7a ch\xfang ta b\u1eb1ng m\u1ed9t trong nh\u1eefng l\u1ef1a ch\u1ecdn c\u1ee7a b\u1ea1n. N\u1ebfu b\u1ea1n ch\u1ea1y l\u1ec7nh sau, n\xf3 s\u1ebd mint ra m\u1ed9t NFT v\u1edbi c\xe1c tham s\u1ed1 sau:"}),"\n",(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"token_id"}),': "token-1"']}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"metadata"}),":","\n",(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.em,{children:"title"}),': "My Non Fungible Team Token"']}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.em,{children:"description"}),': "The Team Most Certainly Goes :)"']}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.em,{children:"media"}),": ",(0,c.jsx)(t.code,{children:"https://bafybeiftczwrtyr3k7a2k4vutd3amkwsmaqyhrdzlhvpt33dyjivufqusq.ipfs.dweb.link/goteam-gif.gif"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.strong,{children:"receiver_id"}),": \"'$NFT_CONTRACT_ID'\""]}),"\n"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:'near call $NFT_CONTRACT_ID nft_mint \'{"token_id": "token-1", "metadata": {"title": "My Non Fungible Team Token", "description": "The Team Most Certainly Goes :)", "media": "https://bafybeiftczwrtyr3k7a2k4vutd3amkwsmaqyhrdzlhvpt33dyjivufqusq.ipfs.dweb.link/goteam-gif.gif"}, "receiver_id": "\'$NFT_CONTRACT_ID\'"}\' --accountId $NFT_CONTRACT_ID --amount 0.1\n'})}),"\n",(0,c.jsxs)(t.admonition,{type:"info",children:[(0,c.jsxs)(t.mdxAdmonitionTitle,{children:["C\u1edd ",(0,c.jsx)(t.code,{children:"amount"})," \u0111ang ch\u1ec9 \u0111\u1ecbnh bao nhi\xeau NEAR \u0111\u1ec3 \u0111\xednh k\xe8m v\xe0o call. Do b\u1ea1n c\u1ea7n ph\u1ea3i tr\u1ea3 ti\u1ec1n cho storage, 0,1 NEAR s\u1ebd \u0111\u01b0\u1ee3c \u0111\xednh k\xe8m v\xe0 cu\u1ed1i c\xf9ng b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c ho\xe0n l\u1ea1i kho\u1ea3n ti\u1ec1n th\u1eeba ch\u01b0a \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng. :::"]}),(0,c.jsx)(t.h3,{id:"xem-th\xf4ng-tin-c\u1ee7a-nft",children:"Xem th\xf4ng tin c\u1ee7a NFT"}),(0,c.jsxs)(t.p,{children:["B\xe2y gi\u1edd NFT \u0111\xe3 \u0111\u01b0\u1ee3c mint, b\u1ea1n c\xf3 th\u1ec3 ki\u1ec3m tra v\xe0 xem m\u1ecdi th\u1ee9 c\xf3 di\u1ec5n ra ch\xednh x\xe1c hay kh\xf4ng b\u1eb1ng c\xe1ch g\u1ecdi function ",(0,c.jsx)(t.code,{children:"nft_token"}),". N\xf3 s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t ",(0,c.jsx)(t.code,{children:"JsonToken"}),", trong \u0111\xf3 ch\u1ee9a ",(0,c.jsx)(t.code,{children:"token_id"}),", ",(0,c.jsx)(t.code,{children:"owner_id"}),", v\xe0 ",(0,c.jsx)(t.code,{children:"metadata"}),"."]}),(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:'near view $NFT_CONTRACT_ID nft_token \'{"token_id": "token-1"}\'\n'})}),(0,c.jsxs)(e,{children:[(0,c.jsxs)("summary",{children:["C\xe1c k\u1ebft qu\u1ea3 cu\u1ed1i c\xf9ng c\u1ee7a transaction c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c query qua ",(0,c.jsx)("a",{href:"/api/rpc/transactions#transaction-status",children:"Transaction Status"})," ho\u1eb7c ",(0,c.jsx)("a",{href:"https://explorer.testnet.near.org/",children:"NEAR Explorer"})," b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,c.jsx)("code",{children:"k\u1ebft qu\u1ea3"})," hash \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 nh\u01b0 v\xed d\u1ee5 sau \u0111\xe2y. "]}),(0,c.jsx)("p",{children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"{\n  token_id: 'token-1',\n  owner_id: 'goteam.examples.testnet',\n  metadata: {\n    title: 'My Non Fungible Team Token',\n    description: 'The Team Most Certainly Goes :)',\n    media: 'https://bafybeiftczwrtyr3k7a2k4vutd3amkwsmaqyhrdzlhvpt33dyjivufqusq.ipfs.dweb.link/goteam-gif.gif'\n  }\n}\n"})})})]}),(0,c.jsxs)(t.p,{children:[(0,c.jsx)(t.strong,{children:"Ch\xfac m\u1eebng!"})," B\xe2y gi\u1edd b\u1ea1n \u0111\xe3 x\xe1c minh \u0111\u01b0\u1ee3c r\u1eb1ng m\u1ecdi th\u1ee9 \u0111\xe3 ho\u1ea1t \u0111\u1ed9ng ch\xednh x\xe1c v\xe0 \u0111\xe3 \u0111\u1ebfn l\xfac xem NFT m\u1edbi mint c\u1ee7a b\u1ea1n trong tab collectibles c\u1ee7a NEAR wallet!"]}),(0,c.jsx)(t.h2,{id:"xem-nft-c\u1ee7a-b\u1ea1n-trong-wallet",children:"Xem NFT c\u1ee7a b\u1ea1n trong wallet"}),(0,c.jsxs)(t.p,{children:["If you navigate to the ",(0,c.jsx)(t.a,{href:"https://testnet.mynearwallet.com//?tab=collectibles",children:"collectibles tab"})," in the NEAR wallet, this should list all the NFTs that you own. Currently, It should be empty."]}),(0,c.jsxs)(t.p,{children:["Ch\xfang ta c\xf3 m\u1ed9t v\u1ea5n \u0111\u1ec1. Wallet \u0111\xe3 bi\u1ebft ch\xednh x\xe1c r\u1eb1ng b\u1ea1n \u0111\xe3 mint ra m\u1ed9t NFT, tuy nhi\xean, contract kh\xf4ng implement view function c\u1ee5 th\u1ec3 \u0111ang \u0111\u01b0\u1ee3c call. Ph\xeda \u0111\u1eb1ng sau, wallet \u0111ang c\u1ed1 g\u1eafng call ",(0,c.jsx)(t.code,{children:"nft_tokens_for_owner"})," \u0111\u1ec3 l\u1ea5y danh s\xe1ch t\u1ea5t c\u1ea3 c\xe1c NFT c\u1ee7a b\u1ea1n tr\xean contract. Tuy nhi\xean, function duy nh\u1ea5t m\xe0 b\u1ea1n \u0111\xe3 t\u1ea1o ra, ch\xednh l\xe0 function ",(0,c.jsx)(t.code,{children:"nft_token"}),". It wouldn't be very efficient for the wallet to call ",(0,c.jsx)(t.code,{children:"nft_token"})," for every single NFT that a user has to get information and so they try to call the ",(0,c.jsx)(t.code,{children:"nft_tokens_for_owner"})," function instead."]}),(0,c.jsx)(t.p,{children:"Trong h\u01b0\u1edbng d\u1eabn ti\u1ebfp theo, b\u1ea1n s\u1ebd t\xecm hi\u1ec3u v\u1ec1 c\xe1ch deploy b\u1ea3n s\u1eeda l\u1ed7i cho m\u1ed9t contract \u0111\xe3 c\xf3 t\u1eeb tr\u01b0\u1edbc \u0111\u1ec3 b\u1ea1n c\xf3 th\u1ec3 xem NFT trong wallet."}),(0,c.jsx)(t.h2,{id:"t\u1ed5ng-k\u1ebft",children:"T\u1ed5ng k\u1ebft"}),(0,c.jsx)(t.p,{children:"Trong h\u01b0\u1edbng d\u1eabn n\xe0y, b\u1ea1n \u0111\xe3 tr\u1ea3i qua nh\u1eefng \u0111i\u1ec1u c\u01a1 b\u1ea3n v\u1ec1 thi\u1ebft l\u1eadp v\xe0 hi\u1ec3u logic \u0111\u1eb1ng sau vi\u1ec7c mint NFT tr\xean blockchain b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\u1ed9t skeleton contract."}),(0,c.jsxs)(t.p,{children:["\u0110\u1ea7u ti\xean, b\u1ea1n \u0111\xe3 xem ",(0,c.jsx)(t.a,{href:"#what-does-minting-mean",children:"\xfd ngh\u0129a"})," c\u1ee7a vi\u1ec7c mint NFT v\xe0 c\xe1ch chia v\u1ea5n \u0111\u1ec1 th\xe0nh nhi\u1ec1u ph\u1ea7n nh\u1ecf kh\u1ea3 thi h\u01a1n. Sau \u0111\xf3, b\u1ea1n b\u1eaft \u0111\u1ea7u s\u1eeda \u0111\u1ed5i skeleton contract theo t\u1eebng ph\xe2n \u0111o\u1ea1n b\u1eaft \u0111\u1ea7u b\u1eb1ng vi\u1ec7c gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 c\u1ee7a ",(0,c.jsx)(t.a,{href:"#storing-information",children:"storing information / state"})," tr\xean contract. Sau \u0111\xf3, b\u1ea1n xem nh\u1eefng g\xec c\u1ea7n \u0111\u01b0a v\xe0o ",(0,c.jsx)(t.a,{href:"#metadata-and-token-info",children:"metadata v\xe0 th\xf4ng tin token"}),". Cu\u1ed1i c\xf9ng, b\u1ea1n \u0111\xe3 xem x\xe9t logic c\u1ea7n thi\u1ebft \u0111\u1ec3 ",(0,c.jsx)(t.a,{href:"#minting-logic",children:"mint c\xe1c NFT"}),"."]}),(0,c.jsxs)(t.p,{children:["Sau khi contract \u0111\u01b0\u1ee3c vi\u1ebft, \u0111\xe3 \u0111\u1ebfn l\xfac deploy v\xe0o blockchain. B\u1ea1n ",(0,c.jsx)(t.a,{href:"#deploy-the-contract",children:"\u0111\xe3 deploy contract"})," v\xe0 ",(0,c.jsx)(t.a,{href:"#initialize-contract",children:"init n\xf3"}),". Cu\u1ed1i c\xf9ng, b\u1ea1n ",(0,c.jsx)(t.a,{href:"#minting-our-first-nft",children:"\u0111\xe3 mint NFT \u0111\u1ea7u ti\xean c\u1ee7a m\xecnh"})," v\xe0 th\u1ea5y r\u1eb1ng c\u1ea7n thay \u0111\u1ed5i m\u1ed9t \xedt tr\u01b0\u1edbc khi b\u1ea1n c\xf3 th\u1ec3 th\u1ea5y n\xf3 trong wallet."]}),(0,c.jsx)(t.h2,{id:"c\xe1c-b\u01b0\u1edbc-ti\u1ebfp-theo",children:"C\xe1c b\u01b0\u1edbc ti\u1ebfp theo"}),(0,c.jsxs)(t.p,{children:["Trong ph\u1ea7n ",(0,c.jsx)(t.a,{href:"/tutorials/nfts/js/upgrade-contract",children:"h\u01b0\u1edbng d\u1eabn ti\u1ebfp theo"}),", b\u1ea1n s\u1ebd t\xecm hi\u1ec3u c\xe1ch \u0111\u1ec3 deploy m\u1ed9t b\u1ea3n s\u1eeda l\u1ed7i v\xe0 \u0111i\u1ec1u \u0111\xf3 c\xf3 ngh\u0129a th\u1ebf n\xe0o, \u0111\u1ec3 b\u1ea1n c\xf3 th\u1ec3 xem NFT c\u1ee7a m\xecnh trong wallet."]}),(0,c.jsxs)(t.admonition,{title:"Versioning for this article",type:"note",children:[(0,c.jsx)(t.p,{children:"At the time of this writing, this example works with the following versions:"}),(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:["near-cli: ",(0,c.jsx)(t.code,{children:"3.0.0"})]}),"\n",(0,c.jsxs)(t.li,{children:["NFT standard: ",(0,c.jsx)(t.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Core",children:"NEP171"}),", version ",(0,c.jsx)(t.code,{children:"1.0.0"})]}),"\n",(0,c.jsxs)(t.li,{children:["Metadata standard: ",(0,c.jsx)(t.a,{href:"https://nomicon.io/Standards/Tokens/NonFungibleToken/Metadata",children:"NEP177"}),", version ",(0,c.jsx)(t.code,{children:"2.1.0"})]}),"\n"]})]})]})]})}function u(n={}){const{wrapper:t}={...(0,i.a)(),...n.components};return t?(0,c.jsx)(t,{...n,children:(0,c.jsx)(d,{...n})}):d(n)}},85162:(n,t,e)=>{e.d(t,{Z:()=>r});e(67294);var c=e(36905);const i={tabItem:"tabItem_Ymn6"};var a=e(85893);function r(n){var t=n.children,e=n.hidden,r=n.className;return(0,a.jsx)("div",{role:"tabpanel",className:(0,c.Z)(i.tabItem,r),hidden:e,children:t})}},74866:(n,t,e)=>{e.d(t,{Z:()=>y});var c=e(67294),i=e(36905),a=e(12466),r=e(16550),o=e(20469),s=e(91980),h=e(67392),l=e(20812);function d(n){var t,e;return null!=(t=null==(e=c.Children.toArray(n).filter((function(n){return"\n"!==n})).map((function(n){if(!n||(0,c.isValidElement)(n)&&((t=n.props)&&"object"==typeof t&&"value"in t))return n;var t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof n.type?n.type:n.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:e.filter(Boolean))?t:[]}function u(n){var t=n.values,e=n.children;return(0,c.useMemo)((function(){var n=null!=t?t:function(n){return d(n).map((function(n){var t=n.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}(e);return function(n){var t=(0,h.l)(n,(function(n,t){return n.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(n){return n.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(n),n}),[t,e])}function m(n){var t=n.value;return n.tabValues.some((function(n){return n.value===t}))}function g(n){var t=n.queryString,e=void 0!==t&&t,i=n.groupId,a=(0,r.k6)(),o=function(n){var t=n.queryString,e=void 0!==t&&t,c=n.groupId;if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!c)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=c?c:null}({queryString:e,groupId:i});return[(0,s._X)(o),(0,c.useCallback)((function(n){if(o){var t=new URLSearchParams(a.location.search);t.set(o,n),a.replace(Object.assign({},a.location,{search:t.toString()}))}}),[o,a])]}function p(n){var t,e,i,a,r=n.defaultValue,s=n.queryString,h=void 0!==s&&s,d=n.groupId,p=u(n),x=(0,c.useState)((function(){return function(n){var t,e=n.defaultValue,c=n.tabValues;if(0===c.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:c}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+e+'" but none of its children has the corresponding value. Available values are: '+c.map((function(n){return n.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return e}var i=null!=(t=c.find((function(n){return n.default})))?t:c[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:r,tabValues:p})})),b=x[0],j=x[1],f=g({queryString:h,groupId:d}),v=f[0],k=f[1],y=(t=function(n){return n?"docusaurus.tab."+n:null}({groupId:d}.groupId),e=(0,l.Nk)(t),i=e[0],a=e[1],[i,(0,c.useCallback)((function(n){t&&a.set(n)}),[t,a])]),T=y[0],N=y[1],w=function(){var n=null!=v?v:T;return m({value:n,tabValues:p})?n:null}();return(0,o.Z)((function(){w&&j(w)}),[w]),{selectedValue:b,selectValue:(0,c.useCallback)((function(n){if(!m({value:n,tabValues:p}))throw new Error("Can't select invalid tab value="+n);j(n),k(n),N(n)}),[k,N,p]),tabValues:p}}var x=e(72389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=e(85893);function f(n){var t=n.className,e=n.block,c=n.selectedValue,r=n.selectValue,o=n.tabValues,s=[],h=(0,a.o5)().blockElementScrollPositionUntilNextRender,l=function(n){var t=n.currentTarget,e=s.indexOf(t),i=o[e].value;i!==c&&(h(t),r(i))},d=function(n){var t,e=null;switch(n.key){case"Enter":l(n);break;case"ArrowRight":var c,i=s.indexOf(n.currentTarget)+1;e=null!=(c=s[i])?c:s[0];break;case"ArrowLeft":var a,r=s.indexOf(n.currentTarget)-1;e=null!=(a=s[r])?a:s[s.length-1]}null==(t=e)||t.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":e},t),children:o.map((function(n){var t=n.value,e=n.label,a=n.attributes;return(0,j.jsx)("li",Object.assign({role:"tab",tabIndex:c===t?0:-1,"aria-selected":c===t,ref:function(n){return s.push(n)},onKeyDown:d,onClick:l},a,{className:(0,i.Z)("tabs__item",b.tabItem,null==a?void 0:a.className,{"tabs__item--active":c===t}),children:null!=e?e:t}),t)}))})}function v(n){var t=n.lazy,e=n.children,i=n.selectedValue,a=(Array.isArray(e)?e:[e]).filter(Boolean);if(t){var r=a.find((function(n){return n.props.value===i}));return r?(0,c.cloneElement)(r,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:a.map((function(n,t){return(0,c.cloneElement)(n,{key:t,hidden:n.props.value!==i})}))})}function k(n){var t=p(n);return(0,j.jsxs)("div",{className:(0,i.Z)("tabs-container",b.tabList),children:[(0,j.jsx)(f,Object.assign({},t,n)),(0,j.jsx)(v,Object.assign({},t,n))]})}function y(n){var t=(0,x.Z)();return(0,j.jsx)(k,Object.assign({},n,{children:d(n.children)}),String(t))}},71183:(n,t,e)=>{e.d(t,{O2:()=>g,Ey:()=>x,SQ:()=>p});var c=e(67294),i=e(74866),a=e(85162),r=e(74165),o=e(15861),s=e(1841),h=e.n(s),l=e(85893);function d(){return(d=(0,o.Z)((0,r.Z)().mark((function n(t,e,c){var i,a,o,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((a=localStorage.getItem(t+"-until"))&&a>Date.now())){n.next=5;break}i=localStorage.getItem(t),n.next=18;break;case 5:return n.prev=5,n.next=8,fetch(t);case 8:return n.next=10,n.sent.text();case 10:i=n.sent,localStorage.setItem(t,i),localStorage.setItem(t+"-until",Date.now()+6e4),n.next=18;break;case 15:return n.prev=15,n.t0=n.catch(5),n.abrupt("return","Error fetching code, please try reloading");case 18:return o=i.split("\n"),e=e?Number(e)-1:0,c=c?Number(c):o.length,o=o.slice(e,c),s=o.reduce((function(n,t){if(0===t.length)return n;var e=t.match(/^\s+/);return e?Math.min(n,e[0].length):0}),1/0),n.abrupt("return",o.map((function(n){return n.slice(s)})).join("\n"));case 24:case"end":return n.stop()}}),n,null,[[5,15]])})))).apply(this,arguments)}const u=function(n){var t=n.url,e=n.start,i=n.end,a=n.language,r=n.fname,o=n.metastring,s=(0,c.useState)("Loading..."),u=s[0],m=s[1];return(0,c.useEffect)((function(){var n=function(n){var t=n.slice(n.indexOf("https")).split("#"),e=t[0],c=(t[1],new URL(e).pathname.split("/").slice(1)),i=c[0],a=c[1];return c[2],"https://raw.githubusercontent.com/"+i+"/"+a+"/"+c[3]+"/"+c.slice(4).join("/")}(t),c=function(n,t,e){return d.apply(this,arguments)}(n,e,i);c.then((function(n){return m(n)}))})),(0,l.jsxs)("div",{fname:r,children:[(0,l.jsx)(h(),{language:a,metastring:o+" showLineNumbers",children:u}),(0,l.jsx)("div",{style:{fontSize:"0.9em",fontWeight:600,color:"rgb(14, 117, 221)",textAlign:"center",paddingBottom:"13px",textDecoration:"underline"},children:(0,l.jsx)("a",{href:t,target:"_blank",rel:"noreferrer noopener",children:"See full example on GitHub"})})]})};var m={rust:"\ud83e\udd80 Rust",js:"\ud83c\udf10 Javascript",ts:"\ud83c\udf10 Typescript"};function g(n){var t=n.children;return Array.isArray(t)||(t=[t]),(0,l.jsx)(i.Z,{className:"language-tabs",groupId:"code-tabs",children:t.map((function(n,t){return(0,l.jsx)(a.Z,{value:n.props.value,label:m[n.props.value],children:n})}))})}function p(n){var t=n.children,e=n.language,c=n.showSingleFName;return Array.isArray(t)||(t=[t]),t=t.map((function(n){return function(n,t){var e=n.props,c=(e.children,e.url),i=e.start,a=e.end,r=e.fname;if(n.type===x)return x({url:c,start:i,end:a,language:t,fname:r});return n}(n,e)})),1!=t.length||c?(0,l.jsx)(i.Z,{className:"file-tabs",children:t.map((function(n,t){return(0,l.jsx)(a.Z,{value:t,label:n.props.fname,children:n})}))}):(0,l.jsx)(a.Z,{value:0,label:t[0].props.fname,children:t[0]})}function x(n){var t=n.url,e=n.start,c=n.end,i=n.language,a=n.fname,r=n.metastring;return u({url:t,start:e,end:c,language:i,fname:a,metastring:r})}}}]);